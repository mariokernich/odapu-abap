sap.ui.define(["sap/ui/base/ManagedObject","../Constants"],function(e,r){"use strict";function t(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const s=t(r);const c=e.extend("de.kernich.odpu.util.ODataRequests",{constructor:functio+
n r(t){e.prototype.constructor.call(this);this.model=t},getModel:function e(){return this.model},getServices:async function e(r={refresh:false}){if(!r.refresh){const e=c.getCachedServices();if(e){return e}}return new Promise((e,r)=>{this.model.read("/ODa+
taService",{success:r=>{c.setCachedServices(r.results);e(r.results)},error:r,urlParameters:{$top:s.SERVICE_QUERY_LIMIT.toString()}})})},getInfo:async function e(){return new Promise((e,r)=>{this.model.read("/Info",{success:r=>{e(r.results[0])},error:r})}+
)},getPushChannels:async function e(){return new Promise((e,r)=>{this.model.read("/PushChannel",{success:r=>{e(r.results)},error:r,urlParameters:{$top:s.SERVICE_QUERY_LIMIT.toString()}})})},getProjects:async function e(){return new Promise((e,r)=>{this.m+
odel.read("/ODataServiceProject",{success:r=>{e(r.results)},error:r})})},createProject:async function e(r){return new Promise((e,t)=>{this.model.create("/ODataServiceProject",r,{success:()=>e(),error:t})})},deleteProject:async function e(r){return new Pr+
omise((e,t)=>{const s=this.model.createKey("/ODataServiceProject",{ProjectName:r.ProjectName});this.model.remove(s,{success:()=>e(),error:t})})},markAsFavorite:async function e(r){return new Promise((e,t)=>{this.model.callFunction("/mark_favorite",{succe+
ss:()=>e(),error:t,urlParameters:{ProjectName:"",ServicePath:r.servicePath,Value:r.isFavorite},method:"POST"})})}});c.CACHE_KEY="odpu_cached_services";c.getCachedServices=function e(){const r=localStorage.getItem(c.CACHE_KEY);if(!r){return null}try{retur+
n JSON.parse(r)}catch{return null}};c.setCachedServices=function e(r){localStorage.setItem(c.CACHE_KEY,JSON.stringify(r))};return c});                                                                                                                         
//# sourceMappingURL=ODataRequests.js.map                                                                                                                                                                                                                      