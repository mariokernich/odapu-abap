{"version":3,"file":"Main.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","OData","__OData","APC","__APC","Main","extend","onTabContainerAddNewButtonPress","_onTabContainerAddNewButtonPress","this","handleAddNewButton+
Press","onTabContainerItemClose","_onTabContainerItemClose","onInit","_onInit","BaseController.prototype.onInit.call","handleInit","async","_handleInit","tabContainer","getTabContainer","loadInfo","item","TabContainerItem","name","additionalText","modifi+
ed","id","Date","getTime","toString","controller","component","getOwnerComponent","fragmentId","fragment","Fragment","load","getView","addContent","VBox","items","renderType","fitContainer","height","addItem","setTitle","title","setName","setSelectedItem+
","_loadInfo","setBusy","info","requests","getInfo","setModel","JSONModel","UpdateAvailable","dialogManager","showUpdateAvailableDialog","_setSelectedItem","getSelectedItem","getId","_handleAddNewButtonPress","projectType","selectProjectType","_getTabCon+
tainer","byId"],"sources":["Main.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport DialogManager from \"../util/DialogManager\";\nimport TabContainer from \"sap/m/TabContainer\";\nimport TabContainerItem from \"s+
ap/m/TabContainerItem\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport OData from \"./OData.controller\";\nimport VBox from \"sap/m/VBox\";\nimport View from \"sap/ui/core/mvc/View\";\nimport APC from \"./APC.controller\";\nimport JSONModel fro+
m \"sap/ui/model/json/JSONModel\";\n\n/**\n * @namespace de.kernich.odpu.controller\n */\nexport default class Main extends BaseController {\n\tonTabContainerAddNewButtonPress() {\n\t\tvoid this.handleAddNewButtonPress();\n\t}\n\n\tonTabContainerItemClos+
e() {}\n\n\tonInit() {\n\t\tsuper.onInit();\n\t\tvoid this.handleInit();\n\t}\n\n\tprivate async handleInit() {\n\t\tconst tabContainer = this.getTabContainer();\n\n\t\tawait this.loadInfo();\n\n\t\tconst item = new TabContainerItem({\n\t\t\tname: \"Unti+
tled\",\n\t\t\tadditionalText: \"ODATA\",\n\t\t\tmodified: false,\n\t\t});\n\n\t\tconst id = \"__\" + new Date().getTime().toString();\n\n\t\tconst controller = new OData(id);\n\t\tcontroller.component = this.getOwnerComponent();\n\t\tcontroller.getOwner+
Component = () => this.getOwnerComponent();\n\t\tcontroller.fragmentId = id;\n\n\t\tconst fragment = await Fragment.load({\n\t\t\tname: \"de.kernich.odpu.view.fragments.ODATA.Main\",\n\t\t\tcontroller: controller,\n\t\t\tid: id,\n\t\t});\n\n\t\tcontrolle+
r.getView = () => fragment as unknown as View;\n\n\t\titem.addContent(\n\t\t\tnew VBox({\n\t\t\t\titems: fragment,\n\t\t\t\trenderType: \"Bare\",\n\t\t\t\tfitContainer: true,\n\t\t\t\theight: \"100%\",\n\t\t\t})\n\t\t);\n\n\t\ttabContainer.addItem(item);+
\n\n\t\tcontroller.onInit();\n\n\t\tcontroller.setTitle = (title: string) => {\n\t\t\titem.setName(title);\n\t\t};\n\n\t\tthis.setSelectedItem(item);\n\t}\n\n\tprivate async loadInfo() {\n\t\tthis.setBusy(true);\n\t\ttry {\n\t\t\tconst info = await this.+
getOwnerComponent().requests.getInfo();\n\t\t\tthis.getOwnerComponent().setModel(new JSONModel(info), \"info\");\n\n\t\t\tif(info.UpdateAvailable) {\n\t\t\t\tthis.getOwnerComponent().dialogManager.showUpdateAvailableDialog();\n\t\t\t}\n\t\t} finally {\n\+
t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\tprivate setSelectedItem(item: TabContainerItem) {\n\t\twhile (this.getTabContainer().getSelectedItem() !== item.getId()) {\n\t\t\tthis.getTabContainer().setSelectedItem(item);\n\t\t}\n\t}\n\n\tprivate async hand+
leAddNewButtonPress() {\n\t\tconst projectType = await this.getOwnerComponent().dialogManager.selectProjectType();\n\n\t\tconst tabContainer = this.getTabContainer();\n\n\t\tconst item = new TabContainerItem({\n\t\t\tname: \"Untitled\",\n\t\t\tadditional+
Text: projectType,\n\t\t\tmodified: false,\n\t\t});\n\n\t\tconst id = \"__\" + new Date().getTime().toString();\n\n\t\tif (projectType === \"ODATA\") {\n\t\t\tconst controller = new OData(id);\n\t\t\tcontroller.component = this.getOwnerComponent();\n\t\t+
\tcontroller.getOwnerComponent = () => this.getOwnerComponent();\n\t\t\tcontroller.fragmentId = id;\n\n\t\t\tconst fragment = await Fragment.load({\n\t\t\t\tname: \"de.kernich.odpu.view.fragments.ODATA.Main\",\n\t\t\t\tcontroller: controller,\n\t\t\t\tid+
: id,\n\t\t\t});\n\n\t\t\tcontroller.getView = () => fragment as unknown as View;\n\n\t\t\titem.addContent(\n\t\t\t\tnew VBox({\n\t\t\t\t\titems: fragment,\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tfitContainer: true,\n\t\t\t\t\theight: \"100%\",\n\t\t+
\t\t})\n\t\t\t);\n\n\t\t\ttabContainer.addItem(item);\n\n\t\t\tcontroller.onInit();\n\n\t\t\tcontroller.setTitle = (title: string) => {\n\t\t\t\titem.setName(title);\n\t\t\t};\n\n\t\t\ttabContainer.setSelectedItem(item);\n\t\t}\n\n\t\tif (projectType ===+
 \"APC\") {\n\t\t\tconst controller = new APC(id);\n\t\t\tcontroller.component = this.getOwnerComponent();\n\t\t\tcontroller.getOwnerComponent = () => this.getOwnerComponent();\n\t\t\tcontroller.fragmentId = id;\n\n\t\t\tconst fragment = await Fragment.l+
oad({\n\t\t\t\tname: \"de.kernich.odpu.view.fragments.APC.Main\",\n\t\t\t\tcontroller: controller,\n\t\t\t\tid: id,\n\t\t\t});\n\n\t\t\ttabContainer.addItem(item);\n\n\t\t\tcontroller.getView = () => fragment as unknown as View;\n\t\t\tcontroller.onInit(+
);\n\n\t\t\titem.addContent(\n\t\t\t\tnew VBox({\n\t\t\t\t\titems: fragment,\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tfitContainer: true,\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t})\n\t\t\t);\n\n\t\t\tcontroller.setTitle = (title: string) => {\n\t\t\t\ti+
tem.setName(title);\n\t\t\t};\n\n\t\t\tthis.setSelectedItem(item);\n\t\t}\n\t}\n\n\tprivate getTabContainer() {\n\t\treturn this.getView()?.byId(\"idTabContainer\") as TabContainer;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}                                                                                                                                      