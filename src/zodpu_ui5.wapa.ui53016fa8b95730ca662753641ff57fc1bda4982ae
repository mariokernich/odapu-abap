{"version":3,"file":"Component-dbg.js","names":["DialogManager","_interopRequireDefault","__DialogManager","ODataRequests","__ODataRequests","Component","UIComponent","extend","constructor","prototype","apply","arguments","contentDensityClass","metadata"+
,"manifest","init","_init","UIComponent.prototype.init.call","setModel","JSONModel","Device","dialogManager","model","getModel","requests","handleInitAsync","_handleInitAsync","registerErrorHandler","setIconModel","bundle","getResourceBundle","getRouter"+
,"initialize","_registerErrorHandler","attachRequestFailed","event","parameters","getParameters","responseText","response","startsWith","parser","DOMParser","xmlDoc","parseFromString","messageNode","getElementsByTagName","MessageBox","error","textContent+
","json","JSON","parse","message","value","getText","_getText","key","args","_setIconModel","githubIcon","sap","ui","require","toUrl","linkedinIcon","odapuIcon","getContentDensityClass","_getContentDensityClass","undefined","document","body","classList",+
"contains","support","touch"],"sources":["Component.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\";\nimport DialogManager from \"./util/DialogManager\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";\nimport OD+
ataRequests from \"./util/ODataRequests\";\nimport Device from \"sap/ui/Device\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport { Model$RequestFailedEvent } from \"sap/ui/model/Model\";\nimport MessageBox from \"sap/m/MessageBox\";\nimp+
ort ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\n\n/**\n * @namespace de.kernich.odpu\n */\nexport default class Component extends UIComponent {\n\tpublic static metadata = {\n+
\t\tmanifest: \"json\",\n\t};\n\n\tprivate contentDensityClass = \"\";\n\tpublic dialogManager!: DialogManager;\n\tpublic model!: ODataModel;\n\tpublic requests!: ODataRequests;\n\tpublic bundle!: ResourceBundle;\n\n\tpublic init(): void {\n\t\tsuper.ini+
t();\n\n\t\tthis.setModel(new JSONModel(Device), \"device\");\n\n\t\tthis.dialogManager = new DialogManager(this);\n\t\tthis.model = this.getModel() as ODataModel;\n\t\tthis.requests = new ODataRequests(this.model);\n\n\t\tvoid this.handleInitAsync();\n\+
t}\n\n\tprivate async handleInitAsync() {\n\t\tthis.registerErrorHandler(this.model);\n\t\tthis.setIconModel();\n\n\t\tthis.bundle = await (this.getModel(\"i18n\") as ResourceModel).getResourceBundle();\n\n\t\tthis.getRouter().initialize();\n\t}\n\n\tpri+
vate registerErrorHandler(model: ODataModel) {\n\t\tmodel.attachRequestFailed({}, (event: Model$RequestFailedEvent) => {\n\t\t\tconst parameters = event.getParameters() as {\n\t\t\t\tresponse: {\n\t\t\t\t\tresponseText: string;\n\t\t\t\t};\n\t\t\t};\n\t\+
t\tconst responseText = parameters.response.responseText;\n\n\t\t\tif (responseText.startsWith(\"<?xml\")) {\n\t\t\t\t// Handle XML response\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst xmlDoc = parser.parseFromString(responseText, \"text/xml\+
");\n\t\t\t\tconst messageNode = xmlDoc.getElementsByTagName(\"message\")[0];\n\t\t\t\tif (messageNode) {\n\t\t\t\t\tMessageBox.error(messageNode.textContent);\n\t\t\t\t} else {\n\t\t\t\t\tMessageBox.error(\"Unknown error occurred\");\n\t\t\t\t}\n\t\t\t}+
 else {\n\t\t\t\t// Handle JSON response\n\t\t\t\tconst json = JSON.parse(responseText) as {\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\tlang: string;\n\t\t\t\t\t\t\tvalue: string;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tin+
nererror: {\n\t\t\t\t\t\t\terrordetails: {\n\t\t\t\t\t\t\t\tmessage: string;\n\t\t\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\t\t\tseverity: \"Error\" | \"Warning\" | \"Information\";\n\t\t\t\t\t\t\t}[];\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t\tMessa+
geBox.error(json.error.message.value);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getText(key: string, args?: string[]) {\n\t\treturn this.bundle.getText(key, args) ?? key;\n\t}\n\n\tprivate setIconModel() {\n\t\tthis.setModel(new JSONModel({\n\t\t\tgithubIcon: +
sap.ui.require.toUrl(\"de/kernich/odpu/img/github-brands.svg\"),\n\t\t\tlinkedinIcon: sap.ui.require.toUrl(\n\t\t\t\t\"de/kernich/odpu/img/linkedin-brands.svg\"\n\t\t\t),\n\t\t\todapuIcon: sap.ui.require.toUrl(\"de/kernich/odpu/img/odapu-logo.png\"),\n\t+
\t}), \"icons\");\n\t}\n\n\t/**\n\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\n\t * design mode class should be set, which influences the size appearance of some controls.\n\t * @public\n\t * @returns css clas+
s, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\n\t */\n\tpublic getContentDensityClass(): string {\n\t\tif (this.contentDensityClass === undefined) {\n\t\t\t// check whether FLP has already set the cont+
ent density class; do nothing in this case\n\t\t\tif (\n\t\t\t\tdocument.body.classList.contains(\"sapUiSizeCozy\") ||\n\t\t\t\tdocument.body.classList.contains(\"sapUiSizeCompact\")\n\t\t\t) {\n\t\t\t\tthis.contentDensityClass = \"\";\n\t\t\t} else if (+
!Device.support.touch) {\n\t\t\t\t// apply \"compact\" mode if touch is not supported\n\t\t\t\tthis.contentDensityClass = \"sapUiSizeCompact\";\n\t\t\t} else {\n\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but needed for+
 desktop-first controls like sap.ui.table.Table\n\t\t\t\tthis.contentDensityClass = \"sapUiSizeCozy\";\n\t\t\t}\n\t\t}\n\t\treturn this.contentDensityClass;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}            