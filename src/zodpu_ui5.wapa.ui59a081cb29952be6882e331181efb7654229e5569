{"version":3,"file":"OData2Client-dbg.js","names":["ODataHelper","_interopRequireDefault","__ODataHelper","Util","__Util","SoundManager","__SoundManager","OData2Client","constructor","serviceUrl","model","ODataModelV2","attachRequestFailed","event","Fire+
Error","parameters","getParameters","responseText","response","startsWith","parser","DOMParser","xmlDoc","parseFromString","messageNode","getElementsByTagName","MessageBox","error","textContent","json","JSON","parse","message","value","getActions","getCo+
mplexTypes","complexTypes","complexTypeNodes","Array","from","metadataXml","complexTypeNode","name","getAttribute","properties","map","propertyNode","type","nullable","maxLength","getMaxLength","push","filter","entity","destroy","createEntity","options",+
"setHeaders","headers","Promise","resolve","reject","create","entityName","success","FireSuccess","getEntity","keyPath","Object","entries","keys","key","join","urlParameters","expand","length","$expand","result","read","data","undefined","deleteEntity","+
path","createKey","remove","initAsync","metadataLoaded","details","getErrorMessage","metadataText","getMetadataText","parseMetadataXml","getEntities","entities","entitySets","node","Name","EntityType","entityType","includes","split","pop","entityTypeNode+
","find","keyNode","propertyRefs","keyName","prop","property","navigationProperties","navNode","relationship","fromRole","toRole","getAssociations","associations","associationNodes","assocNode","endNodes","end","endNode","multiplicity","role","onDeleteAc+
tion","onDelete","refConstraintNode","referentialConstraint","principalNode","dependentNode","principal","propertyRef","pr","dependent","getMetadataXml","XMLDocument","getFunctions","functionImports","ReturnType","EntitySet","HttpMethod","Parameters","pa+
ramNode","func","returnType","entitySet","method","getModel","readEntity","$top","top","toString","$skip","skip","filters","sorters","sorting","executeFunction","callFunction","functionName","executeAction","Error","stringify"],"sources":["OData2Client.t+
s"],"sourcesContent":["import Filter from \"sap/ui/model/Filter\";\nimport IODataClient from \"./IODataClient\";\nimport ODataModel from \"sap/ui/model/odata/ODataModel\";\nimport ODataModelV2 from \"sap/ui/model/odata/v2/ODataModel\";\nimport {\n\tMetad+
ataAction,\n\tMetadataAssociation,\n\tMetadataEntity,\n\tMetadataFunction,\n\tMetadataFunctionMethod,\n\tMetadataComplexType,\n} from \"../Types\";\nimport ODataHelper from \"./ODataHelper\";\nimport { Model$RequestFailedEvent } from \"sap/ui/model/Model+
\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Sorter from \"sap/ui/model/Sorter\";\nimport Util from \"./Util\";\nimport SoundManager from \"./SoundManager\";\n\n/**\n * @namespace de.kernich.odpu.util\n */\nexport default class OData2Client +
implements IODataClient {\n\tprivate model: ODataModelV2;\n\tprivate serviceUrl: string;\n\tprivate metadataText?: string;\n\tprivate metadataXml?: XMLDocument;\n\n\tconstructor(serviceUrl: string) {\n\t\tthis.serviceUrl = serviceUrl;\n\t\tthis.model = n+
ew ODataModelV2(serviceUrl, {});\n\n\t\tthis.model.attachRequestFailed({}, (event: Model$RequestFailedEvent) => {\n\t\t\tvoid SoundManager.FireError();\n\n\t\t\tconst parameters = event.getParameters() as {\n\t\t\t\tresponse: {\n\t\t\t\t\tresponseText: s+
tring;\n\t\t\t\t};\n\t\t\t};\n\t\t\tconst responseText = parameters.response.responseText;\n\n\t\t\tif (responseText.startsWith(\"<?xml\")) {\n\t\t\t\t// Handle XML response\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst xmlDoc = parser.parseFro+
mString(responseText, \"text/xml\");\n\t\t\t\tconst messageNode = xmlDoc.getElementsByTagName(\"message\")[0];\n\t\t\t\tif (messageNode) {\n\t\t\t\t\tMessageBox.error(messageNode.textContent);\n\t\t\t\t} else {\n\t\t\t\t\tMessageBox.error(\"Unknown error+
 occurred\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Handle JSON response\n\t\t\t\tconst json = JSON.parse(responseText) as {\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\tlang: string;\n\t\t\t\t\t\t\tvalue: string+
;\n\t\t\t\t\t\t};\n\t\t\t\t\t\tinnererror: {\n\t\t\t\t\t\t\terrordetails: {\n\t\t\t\t\t\t\t\tmessage: string;\n\t\t\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\t\t\tseverity: \"Error\" | \"Warning\" | \"Information\";\n\t\t\t\t\t\t\t}[];\n\t\t\t\t\t\t};\n\t\t\t+
\t\t};\n\t\t\t\t};\n\t\t\t\tMessageBox.error(json.error.message.value);\n\t\t\t}\n\t\t});\n\t}\n\tgetActions(): MetadataAction[] {\n\t\treturn [];\n\t}\n\n\tgetComplexTypes(): MetadataComplexType[] {\n\t\tconst complexTypes: MetadataComplexType[] = [];\n+
\n\t\tconst complexTypeNodes = Array.from(\n\t\t\tthis.metadataXml?.getElementsByTagName(\"ComplexType\") || []\n\t\t);\n\n\t\tfor (const complexTypeNode of complexTypeNodes) {\n\t\t\tconst name = complexTypeNode.getAttribute(\"Name\");\n\t\t\tif (!name)+
 continue;\n\n\t\t\tconst properties = Array.from(\n\t\t\t\tcomplexTypeNode.getElementsByTagName(\"Property\")\n\t\t\t).map((propertyNode) => ({\n\t\t\t\tname: propertyNode.getAttribute(\"Name\") || \"\",\n\t\t\t\ttype: propertyNode.getAttribute(\"Type\"+
) || \"\",\n\t\t\t\tnullable: propertyNode.getAttribute(\"Nullable\") || \"\",\n\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\t\t\t\tpropertyNode.getAttribute(\"MaxLength\") || \"\"\n\t\t\t\t),\n\t\t\t}));\n\n\t\t\tcomplexTypes.push({\n\t\t\t\tname: n+
ame,\n\t\t\t\tproperties: properties,\n\t\t\t});\n\t\t}\n\t\treturn complexTypes.filter((entity) => !entity.name.startsWith(\"SAP__\"));\n\t}\n\n\tdestroy(): void {}\n\n\tasync createEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\t\t\tproperties: R+
ecord<string, unknown>;\n\t\t\theaders: Record<string, string>;\n\t\t}\n\t): Promise<void> {\n\t\tthis.model.setHeaders(options.headers);\n\t\tawait new Promise<void>((resolve, reject) => {\n\t\t\tthis.model.create(`/${options.entityName}`, options.prope+
rties, {\n\t\t\t\tsuccess: () => resolve(),\n\t\t\t\terror: (error: Error) => reject(error),\n\t\t\t});\n\t\t});\n\n\t\tawait SoundManager.FireSuccess();\n\t}\n\tasync getEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\t\t\tkeys: Record<string, stri+
ng | number | boolean>;\n\t\t\theaders: Record<string, string>;\n\t\t\texpand?: string[];\n\t\t}\n\t): Promise<object> {\n\t\tthis.model.setHeaders(options.headers);\n\t\t\n\t\tconst keyPath = Object.entries(options.keys)\n\t\t\t.map(([key, value]) => `$+
{key}='${value}'`)\n\t\t\t.join(\",\");\n\t\t\t\n\t\tconst urlParameters: Record<string, string> = {};\n\t\tif (options.expand && options.expand.length > 0) {\n\t\t\turlParameters.$expand = options.expand.join(',');\n\t\t}\n\t\t\n\t\tconst result = await+
 new Promise((resolve, reject) => {\n\t\t\tthis.model.read(`/${options.entityName}(${keyPath})`, {\n\t\t\t\tsuccess: (data: object) => {\n\t\t\t\t\tresolve(data);\n\t\t\t\t},\n\t\t\t\terror: (error: Error) => {\n\t\t\t\t\treject(error);\n\t\t\t\t},\n\t\t+
\t\turlParameters: Object.keys(urlParameters).length > 0 ? urlParameters : undefined,\n\t\t\t});\n\t\t});\n\n\t\tawait SoundManager.FireSuccess();\n\n\t\treturn result as object;\n\t}\n\n\tasync deleteEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\+
t\t\tkeys: Record<string, string | number | boolean>;\n\t\t\theaders: Record<string, string>;\n\t\t}\n\t): Promise<void> {\n\t\tthis.model.setHeaders(options.headers);\n\t\tconst path = this.model.createKey(`/${options.entityName}`, options.keys);\n\t\ta+
wait new Promise<void>((resolve, reject) => {\n\t\t\tthis.model.remove(path, {\n\t\t\t\tsuccess: () => resolve(),\n\t\t\t\terror: (error: Error) => reject(error),\n\t\t\t});\n\t\t});\n\n\t\tawait SoundManager.FireSuccess();\n\t}\n\n\tasync initAsync() {\+
n\t\ttry {\n\t\t\tawait this.model.metadataLoaded(true);\n\t\t} catch (error) {\n\t\t\tMessageBox.error(\"Failed to load metadata of Service \" + this.serviceUrl + \":\\n\\nPlease check Backend configuration and try again.\", {\n\t\t\t\tdetails: Util.get+
ErrorMessage(error)\n\t\t\t});\n\t\t\tthrow error;\n\t\t}\n\t\tthis.metadataText = await ODataHelper.getMetadataText(this.serviceUrl);\n\t\tthis.metadataXml = ODataHelper.parseMetadataXml(this.metadataText);\n\t}\n\n\tgetEntities(): MetadataEntity[] {\n\+
t\tconst entities: MetadataEntity[] = [];\n\n\t\tconst entitySets = Array.from(\n\t\t\tthis.metadataXml?.getElementsByTagName(\"EntitySet\") || []\n\t\t).map((node) => ({\n\t\t\tName: node.getAttribute(\"Name\"),\n\t\t\tEntityType: node.getAttribute(\"En+
tityType\"),\n\t\t}));\n\n\t\tfor (const entity of entitySets) {\n\t\t\tlet entityType = entity.EntityType;\n\t\t\tif (entityType && entityType.includes(\".\")) {\n\t\t\t\tentityType = entityType.split(\".\").pop();\n\t\t\t}\n\t\t\tconst entityTypeNode =+
 Array.from(\n\t\t\t\tthis.metadataXml?.getElementsByTagName(\"EntityType\") || []\n\t\t\t).find((node) => {\n\t\t\t\treturn node.getAttribute(\"Name\") === entityType;\n\t\t\t});\n\t\t\tif (!entityTypeNode) continue;\n\n\t\t\tconst properties = Array.fr+
om(\n\t\t\t\tentityTypeNode.getElementsByTagName(\"Property\")\n\t\t\t).map((propertyNode) => ({\n\t\t\t\tname: propertyNode.getAttribute(\"Name\") || \"\",\n\t\t\t\ttype: propertyNode.getAttribute(\"Type\") || \"\",\n\t\t\t\tnullable: propertyNode.getAt+
tribute(\"Nullable\") || \"\",\n\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\t\t\t\tpropertyNode.getAttribute(\"MaxLength\") || \"\"\n\t\t\t\t),\n\t\t\t}));\n\t\t\tconst keyNode = entityTypeNode.getElementsByTagName(\"Key\")[0];\n\n\t\t\tconst proper+
tyRefs = keyNode ? Array.from(\n\t\t\t\tkeyNode.getElementsByTagName(\"PropertyRef\")\n\t\t\t).map((keyNode) => {\n\t\t\t\tconst keyName = keyNode.getAttribute(\"Name\") || \"\";\n\t\t\t\tconst prop = properties.find((property) => property.name === keyNa+
me) || {name: keyName, type: '', nullable: '', maxLength: 0};\n\t\t\t\treturn {\n\t\t\t\t\tname: prop.name,\n\t\t\t\t\ttype: prop.type,\n\t\t\t\t\tnullable: prop.nullable,\n\t\t\t\t\tmaxLength: prop.maxLength,\n\t\t\t\t};\n\t\t\t}) : [];\n\n\t\t\t// Pars+
e NavigationProperties\n\t\t\tconst navigationProperties = Array.from(\n\t\t\t\tentityTypeNode.getElementsByTagName(\"NavigationProperty\")\n\t\t\t).map((navNode) => ({\n\t\t\t\tname: navNode.getAttribute(\"Name\") || \"\",\n\t\t\t\trelationship: navNode+
.getAttribute(\"Relationship\") || \"\",\n\t\t\t\tfromRole: navNode.getAttribute(\"FromRole\") || \"\",\n\t\t\t\ttoRole: navNode.getAttribute(\"ToRole\") || \"\"\n\t\t\t}));\n\n\t\t\tentities.push({\n\t\t\t\tname: entity.Name || \"\",\n\t\t\t\tentityType+
: entityType || \"\",\n\t\t\t\tproperties: properties,\n\t\t\t\tkeys: propertyRefs,\n\t\t\t\tnavigationProperties: navigationProperties\n\t\t\t});\n\t\t}\n\t\treturn entities.filter((entity) => !entity.name.startsWith(\"SAP__\"));\n\t}\n\n\tgetAssociatio+
ns(): MetadataAssociation[] {\n\t\tconst associations: MetadataAssociation[] = [];\n\t\tconst associationNodes = Array.from(this.metadataXml?.getElementsByTagName(\"Association\") || []);\n\n\t\tfor (const assocNode of associationNodes) {\n\t\t\tconst na+
me = assocNode.getAttribute(\"Name\") || \"\";\n\n\t\t\t// Ends\n\t\t\tconst endNodes = Array.from(assocNode.getElementsByTagName(\"End\"));\n\t\t\tconst end = endNodes.map(endNode => ({\n\t\t\t\ttype: endNode.getAttribute(\"Type\") || \"\",\n\t\t\t\tmul+
tiplicity: endNode.getAttribute(\"Multiplicity\") || \"\",\n\t\t\t\trole: endNode.getAttribute(\"Role\") || \"\",\n\t\t\t\tonDeleteAction: (() => {\n\t\t\t\t\tconst onDelete = endNode.getElementsByTagName(\"OnDelete\")[0];\n\t\t\t\t\treturn onDelete ? on+
Delete.getAttribute(\"Action\") || undefined : undefined;\n\t\t\t\t})()\n\t\t\t}));\n\n\t\t\t// ReferentialConstraint\n\t\t\tconst refConstraintNode = assocNode.getElementsByTagName(\"ReferentialConstraint\")[0];\n\t\t\tlet referentialConstraint = undefi+
ned;\n\t\t\tif (refConstraintNode) {\n\t\t\t\tconst principalNode = refConstraintNode.getElementsByTagName(\"Principal\")[0];\n\t\t\t\tconst dependentNode = refConstraintNode.getElementsByTagName(\"Dependent\")[0];\n\n\t\t\t\treferentialConstraint = {\n\+
t\t\t\t\tprincipal: principalNode ? [{\n\t\t\t\t\t\trole: principalNode.getAttribute(\"Role\") || \"\",\n\t\t\t\t\t\tpropertyRef: Array.from(principalNode.getElementsByTagName(\"PropertyRef\")).map(pr => ({\n\t\t\t\t\t\t\tname: pr.getAttribute(\"Name\") +
|| \"\"\n\t\t\t\t\t\t}))\n\t\t\t\t\t}] : [],\n\t\t\t\t\tdependent: {\n\t\t\t\t\t\trole: dependentNode?.getAttribute(\"Role\") || \"\",\n\t\t\t\t\t\tpropertyRef: dependentNode\n\t\t\t\t\t\t\t? Array.from(dependentNode.getElementsByTagName(\"PropertyRef\")+
).map(pr => ({\n\t\t\t\t\t\t\t\tname: pr.getAttribute(\"Name\") || \"\"\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t: []\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tassociations.push({\n\t\t\t\tname,\n\t\t\t\tend,\n\t\t\t\treferentialConstraint\n\t\t\t});\n\t\t}\n\t\+
treturn associations;\n\t}\n\n\tgetMetadataText(): string {\n\t\treturn this.metadataText || \"\";\n\t}\n\tgetMetadataXml(): XMLDocument {\n\t\treturn this.metadataXml || new XMLDocument();\n\t}\n\tgetFunctions(): MetadataFunction[] {\n\t\tconst function+
Imports = Array.from(\n\t\t\tthis.metadataXml?.getElementsByTagName(\"FunctionImport\") || []\n\t\t).map((node) => ({\n\t\t\tName: node.getAttribute(\"Name\"),\n\t\t\tReturnType: node.getAttribute(\"ReturnType\"),\n\t\t\tEntitySet: node.getAttribute(\"En+
titySet\"),\n\t\t\tHttpMethod: node.getAttribute(\"m:HttpMethod\"),\n\t\t\tParameters: Array.from(node.getElementsByTagName(\"Parameter\")).map(\n\t\t\t\t(paramNode) => ({\n\t\t\t\t\tname: paramNode.getAttribute(\"Name\"),\n\t\t\t\t\ttype: paramNode.getA+
ttribute(\"Type\"),\n\t\t\t\t\tnullable: paramNode.getAttribute(\"Nullable\"),\n\t\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\t\t\t\t\tparamNode.getAttribute(\"MaxLength\") || \"\"\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t),\n\t\t}));\n\n\t\treturn function+
Imports.map((func) => ({\n\t\t\tname: func.Name,\n\t\t\treturnType: func.ReturnType,\n\t\t\tentitySet: func.EntitySet,\n\t\t\tparameters: func.Parameters,\n\t\t\tmethod: func.HttpMethod as MetadataFunctionMethod,\n\t\t}));\n\t}\n\n\tgetModel(): ODataMode+
l {\n\t\treturn this.model as unknown as ODataModel;\n\t}\n\n\tasync readEntity(options: {\n\t\tentityName: string;\n\t\tfilters: Filter[];\n\t\tsorting: Sorter[];\n\t\theaders: Record<string, string>;\n\t\ttop: number;\n\t\tskip: number;\n\t\texpand?: s+
tring[];\n\t}) {\n\t\tthis.model.setHeaders(options.headers);\n\t\t\n\t\tconst urlParameters: Record<string, string> = {\n\t\t\t$top: options.top.toString(),\n\t\t\t$skip: options.skip.toString(),\n\t\t};\n\t\t\n\t\tif (options.expand && options.expand.l+
ength > 0) {\n\t\t\turlParameters.$expand = options.expand.join(',');\n\t\t}\n\t\t\n\t\tconst result = await new Promise((resolve, reject) => {\n\t\t\tthis.model.read(`/${options.entityName}`, {\n\t\t\t\tsuccess: (data: object) => {\n\t\t\t\t\tresolve(da+
ta);\n\t\t\t\t},\n\t\t\t\terror: (error: Error) => {\n\t\t\t\t\treject(error);\n\t\t\t\t},\n\t\t\t\tfilters: options.filters.length > 0 ? options.filters : undefined,\n\t\t\t\tsorters: options.sorting.length > 0 ? options.sorting : undefined,\n\t\t\t\tur+
lParameters: urlParameters,\n\t\t\t});\n\t\t});\n\n\t\tawait SoundManager.FireSuccess();\n\n\t\treturn result as object;\n\t}\n\n\tasync executeFunction(options: {\n\t\tfunctionName: string;\n\t\tparameters: Record<string, string | number | boolean>;\n\t+
\tmethod: \"GET\" | \"POST\";\n\t}): Promise<unknown> {\n\t\tconst result = await new Promise((resolve, reject) => {\n\t\t\tthis.model.callFunction(`/${options.functionName}`, {\n\t\t\t\turlParameters: options.parameters,\n\t\t\t\tmethod: options.method,+
\n\t\t\t\tsuccess: (data: object) => resolve(data),\n\t\t\t\terror: (error: Error) => reject(error),\n\t\t\t});\n\t\t});\n\n\t\tawait SoundManager.FireSuccess();\n\n\t\treturn result as object;\n\t}\n\n\texecuteAction(options: {\n\t\tactionName: string;\+
n\t\tparameters: Record<string, string | number | boolean>;\n\t}): Promise<unknown> {\n\t\tthrow new Error(\"Not implemented: \" + JSON.stringify(options));\n\t}\n}\n"],"mappings":"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","ignoreList":[]}                                                                                                                                                               