sap.ui.define(["sap/m/Button","sap/m/Column","sap/m/ColumnListItem","sap/m/Dialog","sap/m/HBox","sap/m/Input","sap/m/Label","sap/m/MessageBox","sap/m/MessageToast","sap/m/Text","sap/m/VBox","sap/ui/Device","sap/ui/core/Core","sap/ui/core/Icon","sap/ui/mo+
del/Filter","sap/ui/model/Sorter","sap/ui/model/json/JSONModel","../Constants","../util/OData2Client","../util/OData4Client","../util/SoundManager","../util/Util","./BaseController"],function(e,t,s,i,n,o,r,a,c,l,d,h,u,y,g,p,f,m,S,v,w,P,D){"use strict";fu+
nction E(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const C=E(m);const M=E(S);const V=E(v);const T=E(w);const B=E(P);const N=E(D);const x=N.extend("de.kernich.odpu.controller.OData",{constructor:function e(){N.prototype.constru+
ctor.apply(this,arguments);this.selectedService={service:null,entities:null,actions:null};this.localData={resourceType:"entity",selectedEntityName:"",selectedFunctionName:"",selectedActionName:"",response:"",selectedMethod:"GET",selectedServiceFunctions:+
[],selectedEntityProperties:{properties:[],keyProperties:[],navigationProperties:[]},selectedNavigationProperties:[],entityCount:0,functionCount:0,actionCount:0,top:20,skip:0,dark:false,statusCode:0,view:"odata",folderTreeIcon:sap.ui.require.toUrl("de/ke+
rnich/odpu/img/folder-tree-light.svg"),dataViewMode:"json",selectedServiceActions:[]};this.fragmentId="";this.values={}},onInit:function e(){N.prototype.onInit.call(this);void this.handleInit();this.registerModels()},registerModels:function e(){this.getV+
iew()?.setModel(new f(this.localData,true),"local");this.getView()?.setModel(new f(this.selectedService,true),"selectedService");this.getView()?.setModel(new f({name:"",returnType:"",entitySet:"",method:"GET",parameters:[]},true),"selectedFunction");this+
.getView()?.setModel(new f({name:"",returnType:"",entitySet:"",method:"POST",parameters:[]},true),"selectedAction");this.getView()?.setModel(new f([],true),"entityFilters");this.getView()?.setModel(new f([],true),"entitySorting");this.getView()?.setModel+
(new f([],true),"requestHistory");this.getView()?.setModel(new f([],true),"requestHeaders");this.getView()?.setModel(new f(this.getRecentlyUsedServices(),true),"recentlyUsedServices")},getRecentlyUsedServices:function e(){try{const e=localStorage.getItem+
("odpu_recently_used_services");return e?JSON.parse(e):[]}catch(e){return[]}},saveRecentlyUsedService:function e(t){try{const e=this.getRecentlyUsedServices();const s=e.filter(e=>e.ServicePath!==t.ServicePath||e.ODataType!==t.ODataType);s.unshift(t);cons+
t i=s.slice(0,10);localStorage.setItem("odpu_recently_used_services",JSON.stringify(i));(this.getView()?.getModel("recentlyUsedServices")).setProperty("/",i);(this.getView()?.getModel("recentlyUsedServices")).refresh(true)}catch(e){}},onRecentlyUsedServi+
cePress:function e(t){const s=t.getSource().getBindingContext("recentlyUsedServices")?.getObject();if(s){void this.loadService(s)}},handleInit:async function e(){await this.getGlobalModel().dataLoaded();this.setBusy(true);const t=this.getOwnerComponent()+
.getModel();await t.metadataLoaded(true);t.setSizeLimit(C.SERVICE_QUERY_LIMIT);this.setBusy(false);if(!h.support.websocket){c.show(this.component.getText("msg.websocketNotSupported"))}},onSelectService:function e(){void this.handleServiceSelection()},onB+
uttonChooseServicePress:function e(){void this.handleServiceSelection()},onButtonChangeServicePress:function e(){void this.handleServiceSelection()},onButtonShowMetadataPress:function e(){this.onShowMetadata()},onSelectEntity:function e(){this.handleEnti+
tyChanged()},onSelectFunction:function e(){this.handleFunctionChanged()},onSelectAction:function e(){this.handleActionChanged()},onAddFilterButtonPress:function e(){void this.handleAddFilter()},onAddSortButtonPress:function e(){void this.handleAddSort()}+
,onButtonSortDeletePress:function e(t){const s=t.getSource().getBindingContext("entitySorting");const i=s.getObject();void this.handleButtonSortDeletePress(i)},onSendRequest:function e(){this.clearResult();if(this.localData.resourceType==="entity"){switc+
h(this.localData.selectedMethod){case"GET":void this.execEntityRead();break;case"GETBY":void this.execEntityGetSingle();break;case"POST":void this.execEntityCreate();break;case"DELETE":void this.execEntityDelete();break}}else if(this.localData.resourceTy+
pe==="function"){void this.execFunctionRequest()}else if(this.localData.resourceType==="action"){void this.execActionRequest()}else{throw new Error(`Unknown resource type: ${this.localData.resourceType}`)}},onShowMetadata:function e(){if(!this.odataClien+
t)return;void this.component.dialogManager.showXmlCodeEditor(this.odataClient)},onAddHeader:function e(){void this.handleAddHeader()},onButtonSaveConfigurationPress:function e(){void this.handleSaveConfiguration()},onButtonLoadConfigurationPress:function+
 e(){void this.handleLoadConfiguration()},handleServiceSelection:async function e(){const t=await this.pickService();await this.loadService(t)},loadService:async function e(t){this.setBusy(true);try{this.selectedService.service=t;this.setTitle(t.ServiceN+
ame);this.localData.selectedEntityName="";this.localData.selectedFunctionName="";this.localData.selectedServiceFunctions=[];this.localData.resourceType="entity";this.localData.selectedMethod="GET";this.odataClient?.destroy();this.odataClient=undefined;sw+
itch(t.ODataType){case"2":this.odataClient=new M(t.ServicePath);break;case"4":this.odataClient=new V(t.ServicePath);break;default:c.show(this.component.getText("msg.serviceTypeNotSupported"));break}await(this.odataClient?.initAsync());this.handleServiceS+
elected()}finally{this.setBusy(false)}},handleServiceSelected:function e(){this.setBusy(true);try{this.resetFilters();this.resetSorting();this.resetEntityInputs();this.selectedService.entities=this.odataClient?.getEntities()||[];this.localData.selectedSe+
rviceFunctions=this.odataClient?.getFunctions()||[];this.localData.selectedServiceActions=this.odataClient?.getActions()||[];this.localData.entityCount=this.selectedService.entities?.length||0;this.localData.functionCount=this.localData.selectedServiceFu+
nctions?.length||0;this.localData.actionCount=this.localData.selectedServiceActions?.length||0;if(this.selectedService.entities?.length>0){this.localData.selectedEntityName=this.selectedService.entities[0].name;this.handleEntityChanged()}if(this.localDat+
a.selectedServiceFunctions?.length>0){this.localData.selectedFunctionName=this.localData.selectedServiceFunctions[0].name;this.handleFunctionChanged()}if(this.localData.selectedServiceActions?.length>0){this.localData.selectedActionName=this.localData.se+
lectedServiceActions[0].name;this.handleActionChanged()}if(this.selectedService.service){this.saveRecentlyUsedService(this.selectedService.service)}}finally{this.setBusy(false)}},pickService:async function e(){this.setBusy(true);try{return await this.com+
ponent.dialogManager.pickService()}finally{this.setBusy(false)}},handleEntityChanged:function e(){this.resetFilters();this.resetSorting();this.resetEntityInputs();const t=this.selectedService.entities?.find(e=>e.name===this.localData.selectedEntityName);+
if(t){this.localData.selectedEntityProperties.properties=t.properties||[];this.localData.selectedEntityProperties.keyProperties=t.keys||[];this.localData.selectedEntityProperties.navigationProperties=t.navigationProperties||[];this.localData.selectedEnti+
tyProperties.properties=this.localData.selectedEntityProperties.properties.filter(e=>!this.localData.selectedEntityProperties.keyProperties.some(t=>t.name===e.name))}},handleFunctionChanged:function e(){this.resetFunctionInputs();const t=this.localData.s+
electedServiceFunctions.find(e=>e.name===this.localData.selectedFunctionName);(this.getView()?.getModel("selectedFunction")).setProperty("/",t)},handleActionChanged:function e(){this.resetFunctionInputs();const t=this.localData.selectedServiceActions?.fi+
nd(e=>e.name===this.localData.selectedActionName);if(t){(this.getView()?.getModel("selectedAction")).setProperty("/",t)}},execEntityCreate:async function e(){this.setBusy(true);try{const e=this.getEntityPropertyValues();const t=e.keyProperties;const s={.+
..e.properties,...t};await(this.odataClient?.createEntity({entityName:this.localData.selectedEntityName,properties:s,headers:this.getHeaders()}));this.localData.response="";this.addToHistory({method:"CREATE",entity:this.localData.selectedEntityName,statu+
sCode:201,response:this.localData.response,type:"entity",name:this.localData.selectedEntityName});c.show(this.component.getText("msg.entityCreated"))}catch(e){a.error(e.toString())}finally{this.setBusy(false)}},execEntityDelete:async function e(){this.se+
tBusy(true);try{const e=this.getEntityPropertyValues();if(Object.values(e.keyProperties).some(e=>e==="")){await T.FireError();a.error(this.component.getText("msg.enterKeyProperties",[Object.keys(e.keyProperties).join(", ")]));this.setBusy(false);return}a+
wait(this.odataClient?.deleteEntity({entityName:this.localData.selectedEntityName,keys:e.keyProperties,headers:this.getHeaders()}));this.localData.response="";this.addToHistory({method:"DELETE",entity:this.localData.selectedEntityName,statusCode:204,resp+
onse:this.localData.response,type:"entity",name:this.localData.selectedEntityName});c.show(this.component.getText("msg.entityDeleted"))}finally{this.setBusy(false)}},execEntityGetSingle:async function e(){this.setBusy(true);try{const e=this.getEntityProp+
ertyValues();if(Object.values(e.keyProperties).some(e=>e==="")){const t=Object.keys(e.keyProperties).filter(t=>e.keyProperties[t]==="");await T.FireError();a.error(this.component.getText("msg.enterKeyProperties",[t.join(", ")]));this.setBusy(false);retur+
n}const t=await(this.odataClient?.getEntity({entityName:this.localData.selectedEntityName,keys:e.keyProperties,headers:this.getHeaders(),expand:this.localData.selectedNavigationProperties.length>0?this.localData.selectedNavigationProperties:undefined}));+
this.localData.response=JSON.stringify(t,null,2);this.setTableResponse(t);this.addToHistory({method:"GET",entity:this.localData.selectedEntityName,statusCode:200,response:this.localData.response,type:"entity",name:this.localData.selectedEntityName})}fina+
lly{this.setBusy(false)}},execEntityRead:async function e(){this.setBusy(true);const t=this.getHeaders();const s=(this.getView()?.getModel("entityFilters")).getProperty("/");const i=(this.getView()?.getModel("entitySorting")).getProperty("/");try{const e+
=await(this.odataClient?.readEntity({entityName:this.localData.selectedEntityName,filters:s.map(e=>new g(e.property,e.operator,e.value)),sorting:i.map(e=>new p(e.property,e.direction==="desc")),headers:t,top:this.localData.top,skip:this.localData.skip,ex+
pand:this.localData.selectedNavigationProperties.length>0?this.localData.selectedNavigationProperties:undefined}));this.localData.response=JSON.stringify(e,null,2);this.setTableResponse(e);this.addToHistory({method:"READ",entity:this.localData.selectedEn+
tityName,statusCode:200,response:this.localData.response,type:"entity",name:this.localData.selectedEntityName})}finally{this.setBusy(false)}},getResultTable:function e(){return this.getById("idResponseTable")},clearResult:function e(){const t=this.getRes+
ultTable();t.removeAllColumns();t.removeAllItems();this.localData.response=""},setTableResponse:function e(i){const o=this.getById("idResponseTable");const r={...this.localData.selectedEntityProperties.properties,...this.localData.selectedEntityPropertie+
s.keyProperties};const a=[];const c=Object.keys(r);for(const e of c){const t=r[e];if(t&&typeof t==="object"&&"name"in t){a.push({name:t.name,isKey:this.localData.selectedEntityProperties.keyProperties.some(e=>e.name===t.name)})}}let h=[];if(Array.isArray+
(i)){h=i}else if(i&&typeof i==="object"){const e=i;if("results"in e&&Array.isArray(e.results)){h=e.results}else{h=[e]}}if(h.length===0){return}for(const e of a){const s=e.name;let i=s.length;h.forEach(t=>{const s=this.findPropertyValue(t,e.name);let n=""+
;if(s!==null&&s!==undefined){if(typeof s==="object"){n=JSON.stringify(s,null,2)}else{n=String(s)}}i=Math.max(i,n.length)});const r=i*10+16;const a=[];if(e.isKey){a.push(new y({src:"sap-icon://key"}).addStyleClass("sapUiTinyMarginEnd"))}a.push(new l({text+
:s}));const c=new d({items:[new n({items:a,alignItems:"Center"})]});o.addColumn(new t({header:c,width:`${r}px`}))}for(const e of h){const t=a.map(t=>{try{const s=this.findPropertyValue(e,t.name);let i="";if(s!==null&&s!==undefined){if(typeof s==="object"+
){i=JSON.stringify(s,null,2)}else{i=String(s)}}return new l({text:i})}catch(e){return new l}});o.addItem(new s({cells:t}))}},findPropertyValue:function e(t,s){if(s in t){return t[s]}const i=Object.keys(t);const n=i.find(e=>e.toLowerCase()===s.toLowerCase+
());if(n){return t[n]}return undefined},execFunctionRequest:async function e(){this.setBusy(true);try{const e=(this.getView()?.getModel("selectedFunction")).getProperty("/");const t=this.getFunctionParameterValues();const s=await(this.odataClient?.execut+
eFunction({functionName:e.name,parameters:t,method:e.method}));this.localData.response=JSON.stringify(s,null,2);this.addToHistory({method:e.method,entity:e.name,statusCode:200,response:this.localData.response,type:"function",name:e.name});c.show(this.com+
ponent.getText("msg.functionExecuted"))}finally{this.setBusy(false)}},execActionRequest:async function e(){this.setBusy(true);try{const e=(this.getView()?.getModel("selectedAction")).getProperty("/");const t=this.getActionParameterValues();const s=await(+
this.odataClient?.executeAction({actionName:e.name,parameters:t}));this.localData.response=JSON.stringify(s,null,2);this.addToHistory({method:"POST",entity:e.name,statusCode:200,response:this.localData.response,type:"action",name:e.name});c.show(this.com+
ponent.getText("msg.actionExecuted"))}finally{this.setBusy(false)}},resetFilters:function e(){(this.getView()?.getModel("entityFilters")).setProperty("/",[])},resetSorting:function e(){(this.getView()?.getModel("entitySorting")).setProperty("/",[])},hand+
leAddFilter:async function e(){const t=this.selectedService.entities?.find(e=>e.name===this.localData.selectedEntityName);if(!t){a.error(this.component.getText("msg.entityNotFound"));return}const s=await this.component.dialogManager.addFilter(t.propertie+
s);const i=(this.getView()?.getModel("entityFilters")).getProperty("/");const n=i.find(e=>e.property===s.property&&e.operator===s.operator&&e.value===s.value);if(n){a.error(this.component.getText("msg.filterConflict"));return}i.push(s);(this.getView()?.g+
etModel("entityFilters")).setProperty("/",i)},handleAddHeader:async function e(){const t=await this.component.dialogManager.showAddHeaderDialog();const s=(this.getView()?.getModel("requestHeaders")).getProperty("/");const i=s.find(e=>e.key===t.key);if(i)+
{a.error(this.component.getText("msg.headerExists",[t.key]))}else{s.push({key:t.key,value:t.value});(this.getView()?.getModel("requestHeaders")).setProperty("/",s)}},onEditHeader:function t(s){const n=s.getSource().getBindingContext("requestHeaders");con+
st a=(this.getView()?.getModel("requestHeaders")).getProperty("/");const l=n.getObject();const h=()=>{if(u.getValue()===""){c.show(this.component.getText("msg.enterValue"));return}const e=a.findIndex(e=>e.key===l.key);if(e>-1){a[e].value=u.getValue();(th+
is.getView()?.getModel("requestHeaders")).setProperty("/",a)}y.close();y.destroy()};const u=new o({value:l.value,submit:h});const y=new i({title:"Edit Value of "+l.key,contentWidth:"400px",content:[new d({items:[new r({text:"Value"}),u.addStyleClass("sap+
UiSmallMarginBottom")]}).addStyleClass("sapUiSmallMargin")]});y.setBeginButton(new e({text:"Save",press:h,type:"Emphasized",icon:"sap-icon://accept"}));y.setEndButton(new e({text:"Cancel",press:()=>{y.close();y.destroy()},type:"Ghost",icon:"sap-icon://de+
cline"}));y.open();u.selectText(0,l.value.length)},onDeleteHeader:function e(t){const s=t.getSource().getBindingContext("requestHeaders");const i=s.getObject();const n=(this.getView()?.getModel("requestHeaders")).getProperty("/");const o=n.findIndex(e=>e+
.key===i.key);if(o>-1){n.splice(o,1)}(this.getView()?.getModel("requestHeaders")).setProperty("/",n)},getHeaders:function e(){const t={};const s=(this.getView()?.getModel("requestHeaders")).getProperty("/");s.forEach(e=>{t[e.key]=e.value});return t},onSo+
urceCopy:function e(){void this.handleCopy()},onSourceDownload:function e(){const t=this.localData.response;if(t){B.download(t,"response.json")}else{c.show(this.component.getText("msg.noResponseToDownload"))}},handleCopy:async function e(){const t=this.l+
ocalData.response;if(t){await B.copy2Clipboard(t);c.show(this.component.getText("msg.responseCopied"))}else{c.show(this.component.getText("msg.noResponseToCopy"))}},onInputPropertyChange:function e(t){const s=t.getSource();const i=s.getName();const n=s.g+
etValue();this.values[i]=n},getById:function e(t){const s=this.fragmentId;const i=`${s}--${t}`;const n=u.byId(i);return n},getFunctionParameterValues:function e(){const t=this.getById("idParametersVBox");const s=B.getAllInputValues(t);return s},getAction+
ParameterValues:function e(){const t=this.getById("idActionParametersVBox");const s=B.getAllInputValues(t);return s},getEntityPropertyValues:function e(){const t=this.getById("idPropertiesVBox");const s=this.getById("idKeyPropertiesVBox");const i=B.getAl+
lInputValues(t);const n=B.getAllInputValues(s);return{properties:i,keyProperties:n}},resetEntityInputs:function e(){this.localData.selectedNavigationProperties=[];this.values={}},resetFunctionInputs:function e(){const t=this.getById("idParametersVBox");B+
.resetInputs(t)},onButtonFilterDeletePress:function e(t){const s=t.getSource().getBindingContext("entityFilters");const i=s.getObject();void this.handleButtonFilterDeletePress(i)},onButtonFilterEditPress:function e(t){const s=t.getSource().getBindingCont+
ext("entityFilters");const i=s.getObject();void this.handleButtonFilterEditPress(i)},handleButtonFilterDeletePress:function e(t){const s=(this.getView()?.getModel("entityFilters")).getProperty("/");const i=s.filter(e=>e.property!==t.property&&e.operator!+
==t.operator&&e.value!==t.value);(this.getView()?.getModel("entityFilters")).setProperty("/",i)},handleButtonFilterEditPress:async function e(t){const s=this.selectedService.entities?.find(e=>e.name===this.localData.selectedEntityName);if(!s){a.error("En+
tity not found");return}const i=(this.getView()?.getModel("entityFilters")).getProperty("/");const n=i.findIndex(e=>e.property===t.property&&e.operator===t.operator&&e.value===t.value);const o=await this.component.dialogManager.editFilter(t,s.properties)+
;const r=i.find(e=>e.property===o.property&&e.operator===o.operator&&e.value===o.value);if(r){a.error("Conflict with existing record");return}i[n]=o;(this.getView()?.getModel("entityFilters")).setProperty("/",i)},onButtonViewResponsePress:function e(t){c+
onst s=t.getSource().getBindingContext("requestHistory");const i=s.getObject();this.localData.response=i.response;(this.getView()?.getModel("local")).setProperty("/dataViewMode","json")},handleAddSort:async function e(){const t=this.selectedService.entit+
ies?.find(e=>e.name===this.localData.selectedEntityName);if(!t){a.error("Entity not found");return}const s=await this.component.dialogManager.addSort(t.properties);const i=(this.getView()?.getModel("entitySorting")).getProperty("/");const n=i.find(e=>e.p+
roperty===s.property);if(n){a.error(this.component.getText("msg.propertyAlreadySorted"));return}i.push(s);(this.getView()?.getModel("entitySorting")).setProperty("/",i)},handleButtonSortDeletePress:function e(t){const s=(this.getView()?.getModel("entityS+
orting")).getProperty("/");const i=s.filter(e=>e.property!==t.property);(this.getView()?.getModel("entitySorting")).setProperty("/",i)},handleSaveConfiguration:async function e(){this.setBusy(true);try{const e=await this.component.dialogManager.showSaveP+
rojectDialog();const t=(this.getView()?.getModel("local")).getProperty("/");const s=(this.getView()?.getModel("entityFilters")).getProperty("/");const i=(this.getView()?.getModel("requestHeaders")).getProperty("/");const n=(this.getView()?.getModel("enti+
tySorting")).getProperty("/");const o=(this.getView()?.getModel("selectedService")).getProperty("/");const r={ProjectName:e,Odatatype:o.service?.ODataType,ServiceName:o.service?.ServiceName,ServicePath:o.service?.ServicePath,ServiceVersion:o.service?.Ver+
sion,EntityMethod:t.selectedMethod,EntityName:t.selectedEntityName,FunctionName:t.selectedFunctionName,ActionName:"",RequestType:t.resourceType,Top:t.top??0,Skip:t.skip??0,Headers:JSON.stringify(i),Filters:JSON.stringify(s),Sorters:JSON.stringify(n)};awa+
it this.component.requests.createProject(r);c.show(this.component.getText("msg.configurationSaved"))}finally{this.setBusy(false)}},handleLoadConfiguration:async function e(){try{const e=await this.component.dialogManager.showProjectListDialog();if(e){con+
st t=(this.getView()?.getModel("local")).getProperty("/");const s={ServiceName:e.ServiceName,ODataType:e.Odatatype,ServicePath:e.ServicePath,Version:e.ServiceVersion};await this.loadService(s);t.resourceType=e.RequestType??"";t.selectedEntityName=e.Entit+
yName??"";t.selectedFunctionName=e.FunctionName??"";t.selectedMethod=e.EntityMethod??"";t.top=e.Top?e.Top:10;t.skip=e.Skip?e.Skip:0;(this.getView()?.getModel("local")).setProperty("/",t);(this.getView()?.getModel("entityFilters")).setProperty("/",JSON.pa+
rse(e.Filters));(this.getView()?.getModel("entitySorting")).setProperty("/",JSON.parse(e.Sorters));(this.getView()?.getModel("requestHeaders")).setProperty("/",JSON.parse(e.Headers));c.show(this.component.getText("msg.configurationLoaded"))}}catch(e){if(+
e instanceof Error&&e.message!=="Dialog closed"){a.error(`Error loading configuration: ${e.message}`)}}},setTitle:function e(t){throw new Error("Not implemented: "+t)},onServicePathButtonPress:function e(t){const s=t.getSource().getBindingContext("recent+
lyUsedServices")?.getObject();if(s){void this.loadService(s)}},onServiceNameButtonPress:function e(t){const s=t.getSource().getBindingContext("recentlyUsedServices")?.getObject();if(s){void this.loadService(s)}},onButtonDeleteRecentlyUsedPress:function e+
(t){const s=t.getSource().getParent()?.getBindingContext("recentlyUsedServices")?.getObject();if(s){this.deleteRecentlyUsedService(s)}},deleteRecentlyUsedService:function e(t){try{const e=this.getRecentlyUsedServices();const s=e.filter(e=>e.ServicePath!=+
=t.ServicePath||e.ODataType!==t.ODataType);localStorage.setItem("odpu_recently_used_services",JSON.stringify(s));(this.getView()?.getModel("recentlyUsedServices")).setProperty("/",s)}catch(e){}},onNavigationPropertyChange:function e(t){const s=t.getSourc+
e();const i=s.getBindingContext("local")?.getProperty("name");const n=s.getSelected();if(n&&i){if(!this.localData.selectedNavigationProperties.includes(i)){this.localData.selectedNavigationProperties.push(i)}}else if(!n&&i){const e=this.localData.selecte+
dNavigationProperties.indexOf(i);if(e>-1){this.localData.selectedNavigationProperties.splice(e,1)}}},addToHistory:function e(t){const s=(this.getView()?.getModel("requestHistory")).getProperty("/");s.push({...t,timestamp:(new Date).toISOString()});(this.+
getView()?.getModel("requestHistory")).setProperty("/",s)},onCrudMethodSelectionChange:function e(t){const s=t.getSource().getSelectedKey();switch(s){case"CREATE":case"GETBY":case"DELETE":break}},onButtonClearAllRecentlyUsedPress:function e(){a.confirm(t+
his.component.getText("msg.confirmClearAllRecentlyUsed"),{onClose:e=>{if(e===a.Action.OK){this.clearAllRecentlyUsedServices()}}})},clearAllRecentlyUsedServices:function e(){try{localStorage.removeItem("odpu_recently_used_services");(this.getView()?.getMo+
del("recentlyUsedServices")).setProperty("/",[]);c.show(this.component.getText("msg.servicesRefreshed"))}catch(e){a.error("Error clearing recently used services")}}});return x});                                                                             
//# sourceMappingURL=OData.controller.js.map                                                                                                                                                                                                                   