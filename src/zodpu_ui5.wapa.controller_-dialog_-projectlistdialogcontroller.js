sap.ui.define(["../../util/DialogController","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(t,e,o,n,s){"use strict";function i(t){return t&&t.__esModule&&typeof t.default!=="undefined"?t.default:t}co+
nst r=i(t);const a=r.extend("de.kernich.odpu.controller.dialog.ProjectListDialogController",{constructor:function t(){r.prototype.constructor.apply(this,arguments);this.data={projects:[],selectedProject:null}},onSearch:function t(e){const o=e.getParamete+
r("newValue")?.toLowerCase()??"";const i=this.getElement("idProjectsTable");const r=i.getBinding("items");if(r){r.filter(o?new n("ProjectName",s.Contains,o):[]);this.updateDialogTitle()}},onLoad:function t(){const o=this.getElement("idProjectsTable");con+
st n=o.getSelectedItem();if(!n){e.show("Please select a project");return}const s=n.getBindingContext("dialog");if(!s){return}const i=s.getObject();this.data.selectedProject=i;this.onConfirm()},onDelete:async function t(n){const s=n.getSource();const i=s.+
getParent()?.getParent();const r=i.getBindingContext("dialog");if(!r){return}const a=r.getObject();const c=await this.dialogManager.showConfirmationDialog(`Are you sure you want to delete project "${a.ProjectName}"?`);if(c){this.dialog.setBusy(true);try{+
await this.requests.deleteProject(a);e.show("Project deleted successfully");const t=this.data.projects.findIndex(t=>t.ProjectName===a.ProjectName);if(t>-1){this.data.projects.splice(t,1);this.updateDialogTitle()}}catch(t){const e=t instanceof Error?t.mes+
sage:String(t);o.error(`Error deleting project: ${e}`)}finally{this.dialog.setBusy(false)}}},updateDialogTitle:function t(){const e=this.getElement("idProjectsTable");const o=e.getBinding("items");const n=o?o.getLength():0;this.dialog.setTitle(`Saved Pro+
jects (${n})`)}});return a});                                                                                                                                                                                                                                  
//# sourceMappingURL=ProjectListDialogController.js.map                                                                                                                                                                                                        