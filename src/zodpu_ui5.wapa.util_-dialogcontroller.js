sap.ui.define(["sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/base/Object"],function(t,e,i){"use strict";const o=i.extend("de.kernich.odpu.util.DialogController",{constructor:function t(){i.prototype.constructor.apply(this,arguments);this.d+
ata={};this.dialogId=""},get dialog(){return this._dialog},get dialogManager(){return this._dialogManager},set dialog(t){this._dialog=t},set dialogManager(t){this._dialogManager=t},set requests(t){this._requests=t},get requests(){return this._requests},i+
nit:async function t(e){return Promise.all([this.initDialog(e),this.initPromise()])},setModel:function t(e,i){this.dialog.setModel(e,i)},getModel:function t(e){return this.dialog?.getModel(e)},onInit:function t(){},onAfterOpen:function t(){},initDialog:a+
sync function t(i){let o=this.dialog;this.dialogId=i.id;if(!o){this.dialogName=i.name;o=await this.createDialogFromFragment({path:i.path,id:i.id,controller:this});this.dialog=o;this.dialogManager=i.dialogManager;this.requests=i.requests;this.bundle=i.bun+
dle;const t=new e(this.data,true);this.setModel(t,"dialog");o.setBusyIndicatorDelay(0)}return o},getElement:function e(i){const o=t.byId(this.dialogId,i);if(!o){throw new Error(`Element in dialog ${this.dialogId} w/ id ${i} not found`)}return o},getText:+
function t(e){return this.bundle.getText(e)??e},createDialogFromFragment:async function e(i){return await t.load({name:i.path,controller:i.controller,id:i.id})},initPromise:async function t(){this.promiseHelper=await this.createPromise();return this.prom+
iseHelper},createPromise:async function t(){let e;let i;const o=new Promise((t,o)=>{e=t;i=o});return new Promise(t=>{t({promise:o,reject:i,resolve:e})})},onConfirm:function t(){this.resolve();if(this.dialog){this.dialog.close();this.dialog.destroy()}},on+
Cancel:function t(){this.reject();if(this.dialog){this.dialog.close();this.dialog.destroy()}},resolve:function t(e){this.promiseHelper?.resolve(e||this.data)},reject:function t(e){this.promiseHelper?.reject(e||"Cancelled")},destroy:function t(){i.prototy+
pe.destroy.call(this);this.dialog?.destroy();this.promiseHelper?.reject("destroy routine")}});o.DialogController=o;return o});                                                                                                                                 
//# sourceMappingURL=DialogController.js.map                                                                                                                                                                                                                   