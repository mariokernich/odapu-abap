sap.ui.define(["sap/ui/base/ManagedObject","./Util","./ODataRequests","../controller/dialog/SelectProjectDialogController","../controller/dialog/AboutDialogController","../controller/dialog/XmlCodeDialogController","../controller/dialog/SaveProjectDialog+
Controller","../controller/dialog/ProjectListDialogController","../controller/dialog/ConfirmationDialogController","../controller/dialog/UpdateAvailableDialogController","../controller/dialog/AddSortDialogController","../controller/dialog/AddFilterDialog+
Controller","../controller/dialog/AddHeaderDialogController","../controller/dialog/PickCustomServiceDialogController","../controller/dialog/EditFilterDialogController","../controller/dialog/PickApcDialogController","../controller/dialog/PickServiceDialog+
Controller"],function(e,o,t,r,a,l,n,i,s,c,d,g,p,m,u,f,y){"use strict";function D(e){return e&&e.__esModule&&typeof e.default!=="undefined"?e.default:e}const h=D(o);const C=D(t);const w=D(r);const P=D(a);const v=D(l);const M=D(n);const N=D(i);const S=D(s)+
;const A=D(c);const k=D(d);const j=D(g);const L=D(p);const b=D(m);const V=D(u);const _=D(f);const T=D(y);const q=e.extend("de.kernich.odpu.util.DialogManager",{constructor:function o(t){e.prototype.constructor.call(this);this.fragmentPath="de.kernich.odp+
u.view.dialogs";this.component=t;this.requests=new C(t.getModel())},pickApc:async function e(o){const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"PickApcDialog",controllerClass:_});const l=t.getModel("dialog");l.setProperty("/+
apc",o);r.setTitle(`Select Push Channel (${o.length})`);r.open();const n=await a;return n.selectedApc},pickService:async function e(){const{controller:o,dialog:t,promise:r}=await this.createDialog({fragmentName:"PickServiceDialog",controllerClass:T});con+
st a=await this.requests.getServices();const l=o.getModel("dialog");l.setProperty("/services",a);t.setTitle(`Select Service (${a.length})`);t.open();const n=await r;return n.selectedService},pickCustomService:async function e(){const{controller:o,dialog:+
t,promise:r}=await this.createDialog({fragmentName:"PickCustomServiceDialog",controllerClass:b});t.open();const a=await r;return{ServicePath:a.servicePath.trim(),ODataType:a.selectedType,Version:"",ServiceName:"Custom Service"}},showAddHeaderDialog:async+
 function e(){const{controller:o,dialog:t,promise:r}=await this.createDialog({fragmentName:"AddHeaderDialog",controllerClass:L});t.open();const a=await r;return{key:a.selectedType==="custom"?a.selectedInputKey:a.selectedKey,value:a.selectedValue}},addFil+
ter:async function e(o){const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"AddFilterDialog",controllerClass:j});const l=t.getModel("dialog");l.setProperty("/properties",o.filter(e=>e.name.toLowerCase()!=="delete_mc"&&e.name.toL+
owerCase()!=="update_mc"&&e.name.toLowerCase()!=="create_mc").map(e=>({key:e.name,text:e.name})));r.open();const n=await a;return{property:n.selectedProperty,operator:n.selectedOperator,value:n.selectedValue}},editFilter:async function e(o,t){const{contr+
oller:r,dialog:a,promise:l}=await this.createDialog({fragmentName:"AddFilterDialog",controllerClass:V});const n=r.getModel("dialog");n.setProperty("/properties",t.filter(e=>e.name.toLowerCase()!=="delete_mc"&&e.name.toLowerCase()!=="update_mc"&&e.name.to+
LowerCase()!=="create_mc").map(e=>({key:e.name,text:e.name})));n.setProperty("/selectedProperty",o.property);n.setProperty("/selectedOperator",o.operator);n.setProperty("/selectedValue",o.value);a.open();const i=await l;return{property:i.selectedProperty+
,operator:i.selectedOperator,value:i.selectedValue}},showConfirmationDialog:async function e(o){const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"ConfirmationDialog",controllerClass:S});const l=t.getModel("dialog");l.setProper+
ty("/message",o);r.open();const n=await a;return n.confirmed},showUpdateAvailableDialog:async function e(){const o=this.component.getModel("info");const t=o.getData();const{controller:r,dialog:a}=await this.createDialog({fragmentName:"UpdateAvailableDial+
og",controllerClass:A});const l=r.getModel("dialog");l.setProperty("/currentVersion",t.Version);l.setProperty("/latestVersion",t.RemoteVersion);l.setProperty("/releaseNotes",t.LatestReleaseBody||"No release notes available.");a.open()},showAboutDialog:as+
ync function e(){const o=this.component.getModel("info");const t=o.getData();const{controller:r,dialog:a,promise:l}=await this.createDialog({fragmentName:"AboutDialog",controllerClass:P});const n=r.getModel("dialog");n.setProperty("/Version",t.Version);n+
.setProperty("/RemoteVersion",t.RemoteVersion);n.setProperty("/UpdateAvailable",t.UpdateAvailable);n.setProperty("/Logo",sap.ui.require.toUrl("de/kernich/odpu/img/odapu-logo.png"));a.open();return l},selectProjectType:async function e(){const{dialog:o,pr+
omise:t}=await this.createDialog({fragmentName:"SelectProjectType",controllerClass:w});o.open();const r=await t;return r.selectedType},addSort:async function e(o){const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"AddSortDialog+
",controllerClass:k});const l=t.getModel("dialog");l.setProperty("/properties",o.filter(e=>e.name.toLowerCase()!=="delete_mc"&&e.name.toLowerCase()!=="update_mc"&&e.name.toLowerCase()!=="create_mc").map(e=>({key:e.name,text:e.name})));r.open();const n=aw+
ait a;return{property:n.selectedProperty,direction:n.selectedDirection}},showXmlCodeEditor:async function e(o){const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"XmlCodeEditor",controllerClass:v});const l=t.getModel("dialog");l+
.setProperty("/xml",h.formatXml(o));r.open();return a},showProjectListDialog:async function e(){const o=await this.requests.getProjects();const{controller:t,dialog:r,promise:a}=await this.createDialog({fragmentName:"ProjectListDialog",controllerClass:N})+
;const l=t.getModel("dialog");l.setProperty("/projects",o);r.open();const n=await a;return n.selectedProject},showSaveProjectDialog:async function e(){const{dialog:o,promise:t}=await this.createDialog({fragmentName:"SaveProjectDialog",controllerClass:M})+
;o.open();const r=await t;return r.projectName},getDialogId:function e(o){const t=`${this.getMetadata().getName().replace(/\./g,"")}--${o.fragmentName.replace(/\//g,"")}`;if(o.id){return`${t}--${o.id}`}return t},createDialog:async function e(o){const t=o+
.id||o.fragmentName;const r=this.getDialogId(o);const a=new o.controllerClass;const l=this.component.getModel("info");const n=this.component.getModel("i18n");await a.init({path:this.fragmentPath+"/"+o.fragmentName,name:t,id:r,dialogManager:this,requests:+
this.requests,bundle:this.component.bundle});const i=await a.initPromise();a.dialog.setModel(n,"i18n");a.dialog.setModel(l,"info");return{controller:a,dialog:a.dialog,promise:i.promise}}});return q});                                                       
//# sourceMappingURL=DialogManager.js.map                                                                                                                                                                                                                      