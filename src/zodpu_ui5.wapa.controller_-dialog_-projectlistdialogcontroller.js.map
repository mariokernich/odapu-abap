{"version":3,"file":"ProjectListDialogController.js","names":["DialogController","_interopRequireDefault","__DialogController","ProjectListDialogController","extend","constructor","prototype","apply","this","arguments","data","projects","selectedProject"+
,"onSearch","_onSearch","event","query","getParameter","toLowerCase","table","getElement","binding","getBinding","filter","Filter","FilterOperator","Contains","updateDialogTitle","onLoad","_onLoad","selectedItem","getSelectedItem","MessageToast","show","+
bindingContext","getBindingContext","project","getObject","onConfirm","onDelete","async","_onDelete","source","getSource","listItem","getParent","confirmed","dialogManager","showConfirmationDialog","ProjectName","dialog","setBusy","requests","deleteProje+
ct","index","findIndex","p","splice","error","errorMessage","Error","message","String","MessageBox","_updateDialogTitle","filteredLength","getLength","setTitle"],"sources":["ProjectListDialogController.ts"],"sourcesContent":["import DialogController from+
 \"../../util/DialogController\";\nimport MessageToast from \"sap/m/MessageToast\";\nimport MessageBox from \"sap/m/MessageBox\";\nimport Table from \"sap/m/Table\";\nimport Filter from \"sap/ui/model/Filter\";\nimport FilterOperator from \"sap/ui/model/+
FilterOperator\";\nimport { Project } from \"../../Types\";\nimport { Input$LiveChangeEvent } from \"sap/m/Input\";\nimport ListBinding from \"sap/ui/model/ListBinding\";\nimport ListItem from \"sap/ui/core/ListItem\";\nimport { Button$PressEvent } from +
\"sap/m/Button\";\nimport { SearchField$LiveChangeEvent } from \"sap/m/SearchField\";\n\n/**\n * @namespace de.kernich.odpu.controller.dialog\n */\nexport default class ProjectListDialogController extends DialogController {\n    data = {\n        project+
s: [] as Project[],\n        selectedProject: null as Project | null\n    };\n\n    public onSearch(event: SearchField$LiveChangeEvent): void {\n        const query = event.getParameter(\"newValue\")?.toLowerCase() ?? \"\";\n        const table = this.ge+
tElement<Table>(\"idProjectsTable\");\n        const binding = table.getBinding(\"items\") as ListBinding;\n        \n        if (binding) {\n            binding.filter(\n                query\n                    ? new Filter(\"ProjectName\", FilterOper+
ator.Contains, query)\n                    : []\n            );\n            this.updateDialogTitle();\n        }\n    }\n\n    public onLoad(): void {\n        const table = this.getElement<Table>(\"idProjectsTable\");\n        const selectedItem = tabl+
e.getSelectedItem();\n        \n        if (!selectedItem) {\n            MessageToast.show(\"Please select a project\");\n            return;\n        }\n\n        const bindingContext = selectedItem.getBindingContext(\"dialog\");\n        if (!bindingC+
ontext) {\n            return;\n        }\n\n        const project = bindingContext.getObject() as Project;\n        this.data.selectedProject = project;\n        this.onConfirm();\n    }\n\n    public async onDelete(event: Button$PressEvent): Promise<vo+
id> {\n        const source = event.getSource();\n        const listItem = source.getParent()?.getParent() as ListItem;\n        const bindingContext = listItem.getBindingContext(\"dialog\");\n        \n        if (!bindingContext) {\n            return;+
\n        }\n\n        const project = bindingContext.getObject() as Project;\n        const confirmed = await this.dialogManager.showConfirmationDialog(\n            `Are you sure you want to delete project \"${project.ProjectName}\"?`\n        );\n\n  +
      if (confirmed) {\n            this.dialog.setBusy(true);\n            try {\n                await this.requests.deleteProject(project);\n                MessageToast.show(\"Project deleted successfully\");\n\n                const index = this.dat+
a.projects.findIndex(\n                    (p) => p.ProjectName === project.ProjectName\n                );\n                if (index > -1) {\n                    this.data.projects.splice(index, 1);\n                    this.updateDialogTitle();\n     +
           }\n            } catch (error: unknown) {\n                const errorMessage = error instanceof Error ? error.message : String(error);\n                MessageBox.error(`Error deleting project: ${errorMessage}`);\n            } finally {\n   +
             this.dialog.setBusy(false);\n            }\n        }\n    }\n\n    private updateDialogTitle(): void {\n        const table = this.getElement<Table>(\"idProjectsTable\");\n        const binding = table.getBinding(\"items\") as ListBinding;\+
n        const filteredLength = binding ? binding.getLength() : 0;\n        this.dialog.setTitle(`Saved Projects (${filteredLength})`);\n    }\n} "],"mappings":"kQAAOA,EAAgBC,EAAAC,GAavB,MAGqBC,EAAoCH,EAAgBI,OAAA,iEAAAC,YAAA,SAAAA,IAAAL,EAAAM,UAAAD,YAAAE+
,MAAAC,KAAAC,WAAAD,KACrEE,KAAO,CACHC,SAAU,GACVC,gBAAiB,KACpB,EAEMC,SAAQ,SAAAC,EAACC,GACZ,MAAMC,EAAQD,EAAME,aAAa,aAAaC,eAAiB,GAC/D,MAAMC,EAAQX,KAAKY,WAAkB,mBACrC,MAAMC,EAAUF,EAAMG,WAAW,SAEjC,GAAID,EAAS,CACTA,EAAQE,OACJP,EACM,IAAIQ,EAAO,cAAeC,EAAeC,SAAUV,G+
ACnD,IAEVR,KAAKmB,mBACT,CACJ,EAEOC,OAAM,SAAAC,IACT,MAAMV,EAAQX,KAAKY,WAAkB,mBACrC,MAAMU,EAAeX,EAAMY,kBAE3B,IAAKD,EAAc,CACfE,EAAaC,KAAK,2BAClB,MACJ,CAEA,MAAMC,EAAiBJ,EAAaK,kBAAkB,UACtD,IAAKD,EAAgB,CACjB,MACJ,CAEA,MAAME,EAAUF,EAAeG,YAC/B7B,KAAKE,KAAKE,gBAA+
kBwB,EAC5B5B,KAAK8B,WACT,EAEaC,SAAQC,eAAAC,EAAC1B,GAClB,MAAM2B,EAAS3B,EAAM4B,YACrB,MAAMC,EAAWF,EAAOG,aAAaA,YACrC,MAAMX,EAAiBU,EAAST,kBAAkB,UAElD,IAAKD,EAAgB,CACjB,MACJ,CAEA,MAAME,EAAUF,EAAeG,YAC/B,MAAMS,QAAkBtC,KAAKuC,cAAcC,uBACvC,4CAA4CZ,EAAQa,iBAGxD,GA+
AIH,EAAW,CACXtC,KAAK0C,OAAOC,QAAQ,MACpB,UACU3C,KAAK4C,SAASC,cAAcjB,GAClCJ,EAAaC,KAAK,gCAElB,MAAMqB,EAAQ9C,KAAKE,KAAKC,SAAS4C,UAC5BC,GAAMA,EAAEP,cAAgBb,EAAQa,aAErC,GAAIK,GAAS,EAAG,CACZ9C,KAAKE,KAAKC,SAAS8C,OAAOH,EAAO,GACjC9C,KAAKmB,mBACT,CACJ,CAAE,MAAO+B,+
GACL,MAAMC,EAAeD,aAAiBE,MAAQF,EAAMG,QAAUC,OAAOJ,GACrEK,EAAWL,MAAM,2BAA2BC,IAChD,CAAC,QACGnD,KAAK0C,OAAOC,QAAQ,MACxB,CACJ,CACJ,EAEQxB,kBAAiB,SAAAqC,IACrB,MAAM7C,EAAQX,KAAKY,WAAkB,mBACrC,MAAMC,EAAUF,EAAMG,WAAW,SACjC,MAAM2C,EAAiB5C,EAAUA,EAAQ6C,YAAc,EACvD1D+
,KAAK0C,OAAOiB,SAAS,mBAAmBF,KAC5C,IAAC,OAjFgB9D,CAA2B","ignoreList":[]}                                                                                                                                                                                        