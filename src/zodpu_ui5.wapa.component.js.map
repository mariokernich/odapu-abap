{"version":3,"file":"Component.js","names":["DialogManager","_interopRequireDefault","__DialogManager","ODataRequests","__ODataRequests","Component","UIComponent","extend","constructor","prototype","apply","this","arguments","contentDensityClass","metada+
ta","manifest","init","_init","UIComponent.prototype.init.call","setModel","JSONModel","Device","dialogManager","model","getModel","requests","handleInitAsync","async","_handleInitAsync","registerErrorHandler","setIconModel","bundle","getResourceBundle",+
"getRouter","initialize","_registerErrorHandler","attachRequestFailed","event","parameters","getParameters","responseText","response","startsWith","parser","DOMParser","xmlDoc","parseFromString","messageNode","getElementsByTagName","MessageBox","error","+
textContent","json","JSON","parse","message","value","getText","_getText","key","args","_setIconModel","githubIcon","sap","ui","require","toUrl","linkedinIcon","odapuIcon","getContentDensityClass","_getContentDensityClass","undefined","document","body","+
classList","contains","support","touch"],"sources":["Component.ts"],"sourcesContent":["import UIComponent from \"sap/ui/core/UIComponent\";\nimport DialogManager from \"./util/DialogManager\";\nimport ODataModel from \"sap/ui/model/odata/v2/ODataModel\";+
\nimport ODataRequests from \"./util/ODataRequests\";\nimport Device from \"sap/ui/Device\";\nimport JSONModel from \"sap/ui/model/json/JSONModel\";\nimport { Model$RequestFailedEvent } from \"sap/ui/model/Model\";\nimport MessageBox from \"sap/m/Message+
Box\";\nimport ResourceModel from \"sap/ui/model/resource/ResourceModel\";\nimport ResourceBundle from \"sap/base/i18n/ResourceBundle\";\n\n/**\n * @namespace de.kernich.odpu\n */\nexport default class Component extends UIComponent {\n\tpublic static met+
adata = {\n\t\tmanifest: \"json\",\n\t};\n\n\tprivate contentDensityClass = \"\";\n\tpublic dialogManager!: DialogManager;\n\tpublic model!: ODataModel;\n\tpublic requests!: ODataRequests;\n\tpublic bundle!: ResourceBundle;\n\n\tpublic init(): void {\n\t+
\tsuper.init();\n\n\t\tthis.setModel(new JSONModel(Device), \"device\");\n\n\t\tthis.dialogManager = new DialogManager(this);\n\t\tthis.model = this.getModel() as ODataModel;\n\t\tthis.requests = new ODataRequests(this.model);\n\n\t\tvoid this.handleInit+
Async();\n\t}\n\n\tprivate async handleInitAsync() {\n\t\tthis.registerErrorHandler(this.model);\n\t\tthis.setIconModel();\n\n\t\tthis.bundle = await (this.getModel(\"i18n\") as ResourceModel).getResourceBundle();\n\n\t\tthis.getRouter().initialize();\n\+
t}\n\n\tprivate registerErrorHandler(model: ODataModel) {\n\t\tmodel.attachRequestFailed({}, (event: Model$RequestFailedEvent) => {\n\t\t\tconst parameters = event.getParameters() as {\n\t\t\t\tresponse: {\n\t\t\t\t\tresponseText: string;\n\t\t\t\t};\n\t+
\t\t};\n\t\t\tconst responseText = parameters.response.responseText;\n\n\t\t\tif (responseText.startsWith(\"<?xml\")) {\n\t\t\t\t// Handle XML response\n\t\t\t\tconst parser = new DOMParser();\n\t\t\t\tconst xmlDoc = parser.parseFromString(responseText, +
\"text/xml\");\n\t\t\t\tconst messageNode = xmlDoc.getElementsByTagName(\"message\")[0];\n\t\t\t\tif (messageNode) {\n\t\t\t\t\tMessageBox.error(messageNode.textContent);\n\t\t\t\t} else {\n\t\t\t\t\tMessageBox.error(\"Unknown error occurred\");\n\t\t\t\+
t}\n\t\t\t} else {\n\t\t\t\t// Handle JSON response\n\t\t\t\tconst json = JSON.parse(responseText) as {\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\tmessage: {\n\t\t\t\t\t\t\tlang: string;\n\t\t\t\t\t\t\tvalue: string;\n\t\t\t\t\t\t};\n\t\+
t\t\t\t\tinnererror: {\n\t\t\t\t\t\t\terrordetails: {\n\t\t\t\t\t\t\t\tmessage: string;\n\t\t\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\t\t\tseverity: \"Error\" | \"Warning\" | \"Information\";\n\t\t\t\t\t\t\t}[];\n\t\t\t\t\t\t};\n\t\t\t\t\t};\n\t\t\t\t};\n\t+
\t\t\tMessageBox.error(json.error.message.value);\n\t\t\t}\n\t\t});\n\t}\n\n\tpublic getText(key: string, args?: string[]) {\n\t\treturn this.bundle.getText(key, args) ?? key;\n\t}\n\n\tprivate setIconModel() {\n\t\tthis.setModel(new JSONModel({\n\t\t\tg+
ithubIcon: sap.ui.require.toUrl(\"de/kernich/odpu/img/github-brands.svg\"),\n\t\t\tlinkedinIcon: sap.ui.require.toUrl(\n\t\t\t\t\"de/kernich/odpu/img/linkedin-brands.svg\"\n\t\t\t),\n\t\t\todapuIcon: sap.ui.require.toUrl(\"de/kernich/odpu/img/odapu-logo.+
png\"),\n\t\t}), \"icons\");\n\t}\n\n\t/**\n\t * This method can be called to determine whether the sapUiSizeCompact or sapUiSizeCozy\n\t * design mode class should be set, which influences the size appearance of some controls.\n\t * @public\n\t * @retur+
ns css class, either 'sapUiSizeCompact' or 'sapUiSizeCozy' - or an empty string if no css class should be set\n\t */\n\tpublic getContentDensityClass(): string {\n\t\tif (this.contentDensityClass === undefined) {\n\t\t\t// check whether FLP has already s+
et the content density class; do nothing in this case\n\t\t\tif (\n\t\t\t\tdocument.body.classList.contains(\"sapUiSizeCozy\") ||\n\t\t\t\tdocument.body.classList.contains(\"sapUiSizeCompact\")\n\t\t\t) {\n\t\t\t\tthis.contentDensityClass = \"\";\n\t\t\t+
} else if (!Device.support.touch) {\n\t\t\t\t// apply \"compact\" mode if touch is not supported\n\t\t\t\tthis.contentDensityClass = \"sapUiSizeCompact\";\n\t\t\t} else {\n\t\t\t\t// \"cozy\" in case of touch support; default for most sap.m controls, but+
 needed for desktop-first controls like sap.ui.table.Table\n\t\t\t\tthis.contentDensityClass = \"sapUiSizeCozy\";\n\t\t\t}\n\t\t}\n\t\treturn this.contentDensityClass;\n\t}\n}\n"],"mappings":"mRACOA,EAAaC,EAAAC,GAAA,MAEbC,EAAaF,EAAAG,GAQpB,MAGqBC,EAAkBC,+
EAAWC,OAAA,6BAAAC,YAAA,SAAAA,IAAAF,EAAAG,UAAAD,YAAAE,MAAAC,KAAAC,WAAAD,KAKzCE,oBAAsB,EAAE,EAJlBC,SAAW,CACxBC,SAAU,QASJC,KAAI,SAAAC,IACVC,sBAAAP,MAEAA,KAAKQ,SAAS,IAAIC,EAAUC,GAAS,UAErCV,KAAKW,cAAgB,IAAItB,EAAcW,MACvCA,KAAKY,MAAQZ,KAAKa,WAClBb,KAAKc,SAAW,I+
AAItB,EAAcQ,KAAKY,YAElCZ,KAAKe,iBACX,EAEcA,gBAAeC,eAAAC,IAC5BjB,KAAKkB,qBAAqBlB,KAAKY,OAC/BZ,KAAKmB,eAELnB,KAAKoB,aAAgBpB,KAAKa,SAAS,QAA0BQ,oBAE7DrB,KAAKsB,YAAYC,YAClB,EAEQL,qBAAoB,SAAAM,EAACZ,GAC5BA,EAAMa,oBAAoB,CAAC,EAAIC,IAC9B,MAAMC,EAAaD,EAAME,gBAKzB+
,MAAMC,EAAeF,EAAWG,SAASD,aAEzC,GAAIA,EAAaE,WAAW,SAAU,CAErC,MAAMC,EAAS,IAAIC,UACnB,MAAMC,EAASF,EAAOG,gBAAgBN,EAAc,YACpD,MAAMO,EAAcF,EAAOG,qBAAqB,WAAW,GAC3D,GAAID,EAAa,CAChBE,EAAWC,MAAMH,EAAYI,YAC9B,KAAO,CACNF,EAAWC,MAAM,yBAClB,CACD,KAAO,CAEN,MAAME,EAAOC,K+
AAKC,MAAMd,GAgBxBS,EAAWC,MAAME,EAAKF,MAAMK,QAAQC,MACrC,GAEF,EAEOC,QAAO,SAAAC,EAACC,EAAaC,GAC3B,OAAOjD,KAAKoB,OAAO0B,QAAQE,EAAKC,IAASD,CAC1C,EAEQ7B,aAAY,SAAA+B,IACnBlD,KAAKQ,SAAS,IAAIC,EAAU,CAC3B0C,WAAYC,IAAIC,GAAGC,QAAQC,MAAM,yCACjCC,aAAcJ,IAAIC,GAAGC,QA+
AQC,MAC5B,2CAEDE,UAAWL,IAAIC,GAAGC,QAAQC,MAAM,wCAC7B,QACL,EAQOG,uBAAsB,SAAAC,IAC5B,GAAI3D,KAAKE,sBAAwB0D,UAAW,CAE3C,GACCC,SAASC,KAAKC,UAAUC,SAAS,kBACjCH,SAASC,KAAKC,UAAUC,SAAS,oBAChC,CACDhE,KAAKE,oBAAsB,EAC5B,MAAO,IAAKQ,EAAOuD,QAAQC,MAAO,CAEjClE,KAAKE,oB+
AAsB,kBAC5B,KAAO,CAENF,KAAKE,oBAAsB,eAC5B,CACD,CACA,OAAOF,KAAKE,mBACb,IAAC,OA/GmBR,CAAS","ignoreList":[]}                                                                                                                                                      