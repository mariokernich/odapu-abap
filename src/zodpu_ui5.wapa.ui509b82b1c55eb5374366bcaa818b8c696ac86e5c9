{"version":3,"file":"OData4Client-dbg.js","names":["ODataHelper","_interopRequireDefault","__ODataHelper","SoundManager","__SoundManager","OData4Client","constructor","serviceUrl","escapedServiceUrl","endsWith","model","ODataModelV4","synchronizationMode+
","earlyRequests","httpHeaders","attachDataReceived","event","parameters","getParameters","error","status","message","requestUrl","FireError","MessageBox","getActions","actions","actionNodes","Array","from","metadataXml","getElementsByTagName","map","nod+
e","Name","getAttribute","IsBound","Parameters","paramNode","Type","Nullable","action","push","name","isBound","param","type","nullable","getComplexTypes","complexTypes","complexTypeNodes","complexTypeNode","properties","propertyNode","maxLength","getMax+
Length","filter","entity","startsWith","getAssociations","destroy","createEntity","options","binding","bindList","entityName","undefined","$$getKeepAliveContext","createdContext","create","created","FireSuccess","deleteEntity","keyPath","Object","entries+
","keys","key","value","join","entityBinding","getKeepAliveContext","delete","getEntity","bindContext","obj","requestObject","Error","getEntities","entities","entitySets","EntityType","entityType","includes","split","pop","entityTypeNode","find","keyNode+
","propertyRefs","property","navigationProperties","navNode","relationship","fromRole","toRole","getFunctions","functionImports","ReturnType","EntitySet","HttpMethod","func","returnType","entitySet","method","readEntity","filters","sorting","expand","len+
gth","$expand","contexts","requestContexts","result","context","getObject","getModel","getMetadataText","metadataText","getMetadataXml","initAsync","parseMetadataXml","executeFunction","executeAction"],"sources":["OData4Client.ts"],"sourcesContent":["imp+
ort Filter from \"sap/ui/model/Filter\";\nimport IODataClient from \"./IODataClient\";\nimport ODataModel from \"sap/ui/model/odata/ODataModel\";\nimport ODataModelV4, {\n\tODataModel$DataReceivedEvent,\n} from \"sap/ui/model/odata/v4/ODataModel\";\nimpo+
rt {\n\tMetadataAction,\n\tMetadataEntity,\n\tMetadataFunction,\n\tMetadataFunctionMethod,\n\tMetadataComplexType,\n\tMetadataAssociation,\n} from \"../Types\";\nimport ODataHelper from \"./ODataHelper\";\nimport MessageBox from \"sap/m/MessageBox\";\nim+
port Sorter from \"sap/ui/model/Sorter\";\nimport SoundManager from \"./SoundManager\";\n\n/**\n * @namespace de.kernich.odpu.util\n */\nexport default class OData4Client implements IODataClient {\n\tprivate model: ODataModelV4;\n\tprivate serviceUrl: st+
ring;\n\tprivate metadataText: string;\n\tprivate metadataXml: XMLDocument;\n\tconstructor(serviceUrl: string) {\n\t\tlet escapedServiceUrl = serviceUrl;\n\t\tif (!escapedServiceUrl.endsWith(\"/\")) {\n\t\t\tescapedServiceUrl += \"/\";\n\t\t}\n\t\tthis.s+
erviceUrl = escapedServiceUrl;\n\t\tthis.model = new ODataModelV4({\n\t\t\tserviceUrl: escapedServiceUrl,\n\t\t\tsynchronizationMode: \"None\",\n\t\t\tearlyRequests: true,\n\t\t\thttpHeaders: {},\n\t\t});\n\n\t\tthis.model.attachDataReceived({}, (event: +
ODataModel$DataReceivedEvent) => {\n\t\t\tconst parameters = event.getParameters() as unknown as {\n\t\t\t\terror?: {\n\t\t\t\t\terror: {\n\t\t\t\t\t\tcode: string;\n\t\t\t\t\t\tmessage: string;\n\t\t\t\t\t};\n\t\t\t\t\tmessage: string;\n\t\t\t\t\tstatus+
: number;\n\t\t\t\t\trequestUrl: string;\n\t\t\t\t};\n\t\t\t\tdata?: object;\n\t\t\t};\n\t\t\tif (parameters.error?.status >= 400) {\n\t\t\t\tconst message =\n\t\t\t\t\t\"Requested failed: \" +\n\t\t\t\t\tparameters.error.requestUrl +\n\t\t\t\t\t\"\\n\\n+
Message: \" +\n\t\t\t\t\tparameters.error.message;\n\t\t\t\tvoid SoundManager.FireError();\n\t\t\t\tMessageBox.error(message);\n\t\t\t}\n\t\t});\n\t}\n\tgetActions(): MetadataAction[] {\n\t\tconst actions: MetadataAction[] = [];\n\n\t\tconst actionNodes +
= Array.from(\n\t\t\tthis.metadataXml.getElementsByTagName(\"Action\")\n\t\t).map((node) => ({\n\t\t\tName: node.getAttribute(\"Name\"),\n\t\t\tIsBound: node.getAttribute(\"IsBound\"),\n\t\t\tParameters: Array.from(node.getElementsByTagName(\"Parameter\"+
)).map(\n\t\t\t\t(paramNode) => ({\n\t\t\t\t\tName: paramNode.getAttribute(\"Name\"),\n\t\t\t\t\tType: paramNode.getAttribute(\"Type\"),\n\t\t\t\t\tNullable: paramNode.getAttribute(\"Nullable\"),\n\t\t\t\t})\n\t\t\t),\n\t\t}));\n\n\t\tfor (const action o+
f actionNodes) {\n\t\t\tactions.push({\n\t\t\t\tname: action.Name,\n\t\t\t\tisBound: action.IsBound === \"true\",\n\t\t\t\tparameters: action.Parameters.map((param) => ({\n\t\t\t\t\tname: param.Name,\n\t\t\t\t\ttype: param.Type,\n\t\t\t\t\tnullable: para+
m.Nullable === \"true\",\n\t\t\t\t})),\n\t\t\t});\n\t\t}\n\n\t\treturn actions;\n\t}\n\n\tgetComplexTypes(): MetadataComplexType[] {\n\t\tconst complexTypes: MetadataComplexType[] = [];\n\n\t\tconst complexTypeNodes = Array.from(\n\t\t\tthis.metadataXml.+
getElementsByTagName(\"ComplexType\")\n\t\t);\n\n\t\tfor (const complexTypeNode of complexTypeNodes) {\n\t\t\tconst name = complexTypeNode.getAttribute(\"Name\");\n\t\t\tif (!name) continue;\n\n\t\t\tconst properties = Array.from(\n\t\t\t\tcomplexTypeNod+
e.getElementsByTagName(\"Property\")\n\t\t\t).map((propertyNode) => ({\n\t\t\t\tname: propertyNode.getAttribute(\"Name\") || \"\",\n\t\t\t\ttype: propertyNode.getAttribute(\"Type\") || \"\",\n\t\t\t\tnullable: propertyNode.getAttribute(\"Nullable\") || \+
"\",\n\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\t\t\t\tpropertyNode.getAttribute(\"MaxLength\") || \"\"\n\t\t\t\t),\n\t\t\t}));\n\n\t\t\tcomplexTypes.push({\n\t\t\t\tname: name,\n\t\t\t\tproperties: properties,\n\t\t\t});\n\t\t}\n\n\t\treturn comp+
lexTypes.filter((entity) => !entity.name.startsWith(\"SAP__\"));\n\t}\n\n\tgetAssociations(): MetadataAssociation[] {\n\t\treturn [];\n\t}\n\n\tdestroy(): void {}\n\n\tasync createEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\t\t\tproperties: Reco+
rd<string, unknown>;\n\t\t\theaders: Record<string, string>;\n\t\t}\n\t) {\n\t\tconst binding = this.model.bindList(`/${options.entityName}`, undefined, [], [], {\n\t\t\t$$getKeepAliveContext: true,\n\t\t});\n\n\t\tconst createdContext = binding.create(o+
ptions.properties);\n\n\t\tawait createdContext.created();\n\t\t\n\t\tawait SoundManager.FireSuccess();\n\t}\n\tasync deleteEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\t\t\tkeys: Record<string, string | number | boolean>;\n\t\t\theaders: Record<+
string, string>;\n\t\t}\n\t) {\n\t\tconst keyPath = Object.entries(options.keys)\n\t\t\t.map(([key, value]) => `${key}='${value}'`)\n\t\t\t.join(\",\");\n\t\tconst entityBinding = this.model.getKeepAliveContext(\n\t\t\t`/${options.entityName}(${keyPath})+
`\n\t\t);\n\n\t\tawait entityBinding.delete();\n\t\t\n\t\tawait SoundManager.FireSuccess();\n\t}\n\tasync getEntity(\n\t\toptions: {\n\t\t\tentityName: string;\n\t\t\tkeys: Record<string, string | number | boolean>;\n\t\t\theaders: Record<string, string>+
;\n\t\t\texpand?: string[];\n\t\t}\n\t): Promise<object> {\n\t\tconst keyPath = Object.entries(options.keys)\n\t\t\t.map(([key, value]) => `${key}='${value}'`)\n\t\t\t.join(\",\");\n\t\tconst binding = this.model.bindContext(`/${options.entityName}(${key+
Path})`);\n\t\tconst obj = (await binding.requestObject()) as object;\n\t\tif (obj === undefined) {\n\t\t\tthrow new Error(\"Entity not found\");\n\t\t}\n\t\t\n\t\tawait SoundManager.FireSuccess();\n\t\t\n\t\treturn obj;\n\t}\n\tgetEntities(): MetadataEn+
tity[] {\n\t\tconst entities: MetadataEntity[] = [];\n\n\t\tconst entitySets = Array.from(\n\t\t\tthis.metadataXml.getElementsByTagName(\"EntitySet\")\n\t\t).map((node) => ({\n\t\t\tName: node.getAttribute(\"Name\"),\n\t\t\tEntityType: node.getAttribute(+
\"EntityType\"),\n\t\t}));\n\n\t\tfor (const entity of entitySets) {\n\t\t\tlet entityType = entity.EntityType;\n\t\t\tif (entityType.includes(\".\")) {\n\t\t\t\tentityType = entityType.split(\".\").pop();\n\t\t\t}\n\t\t\tconst entityTypeNode = Array.fro+
m(\n\t\t\t\tthis.metadataXml.getElementsByTagName(\"EntityType\")\n\t\t\t).find((node) => {\n\t\t\t\treturn node.getAttribute(\"Name\") === entityType;\n\t\t\t});\n\t\t\tconst properties = Array.from(\n\t\t\t\tentityTypeNode.getElementsByTagName(\"Proper+
ty\")\n\t\t\t).map((propertyNode) => ({\n\t\t\t\tname: propertyNode.getAttribute(\"Name\"),\n\t\t\t\ttype: propertyNode.getAttribute(\"Type\"),\n\t\t\t\tnullable: propertyNode.getAttribute(\"Nullable\"),\n\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\+
t\t\t\tpropertyNode.getAttribute(\"MaxLength\")\n\t\t\t\t),\n\t\t\t}));\n\t\t\tconst keyNode = entityTypeNode.getElementsByTagName(\"Key\")[0];\n\n\t\t\tconst propertyRefs = Array.from(\n\t\t\t\tkeyNode.getElementsByTagName(\"PropertyRef\")\n\t\t\t).map(+
(keyNode) => ({\n\t\t\t\tname: keyNode.getAttribute(\"Name\"),\n\t\t\t\ttype: properties.find(\n\t\t\t\t\t(property) => property.name === keyNode.getAttribute(\"Name\")\n\t\t\t\t).type,\n\t\t\t\tnullable: properties.find(\n\t\t\t\t\t(property) => propert+
y.name === keyNode.getAttribute(\"Name\")\n\t\t\t\t).nullable,\n\t\t\t\tmaxLength: properties.find(\n\t\t\t\t\t(property) => property.name === keyNode.getAttribute(\"Name\")\n\t\t\t\t).maxLength,\n\t\t\t}));\n\n\t\t\t// Parse NavigationProperties\n\t\t\t+
const navigationProperties = Array.from(\n\t\t\t\tentityTypeNode.getElementsByTagName(\"NavigationProperty\")\n\t\t\t).map((navNode) => ({\n\t\t\t\tname: navNode.getAttribute(\"Name\") || \"\",\n\t\t\t\trelationship: navNode.getAttribute(\"Relationship\"+
) || \"\",\n\t\t\t\tfromRole: navNode.getAttribute(\"FromRole\") || \"\",\n\t\t\t\ttoRole: navNode.getAttribute(\"ToRole\") || \"\"\n\t\t\t}));\n\n\t\t\tentities.push({\n\t\t\t\tname: entity.Name,\n\t\t\t\tentityType: entityType,\n\t\t\t\tproperties: pro+
perties,\n\t\t\t\tkeys: propertyRefs,\n\t\t\t\tnavigationProperties: navigationProperties\n\t\t\t});\n\t\t}\n\t\treturn entities;\n\t}\n\tgetFunctions(): MetadataFunction[] {\n\t\tconst functionImports = Array.from(\n\t\t\tthis.metadataXml.getElementsByT+
agName(\"FunctionImport\")\n\t\t).map((node) => ({\n\t\t\tName: node.getAttribute(\"Name\"),\n\t\t\tReturnType: node.getAttribute(\"ReturnType\"),\n\t\t\tEntitySet: node.getAttribute(\"EntitySet\"),\n\t\t\tHttpMethod: node.getAttribute(\"m:HttpMethod\"),+
\n\t\t}));\n\n\t\treturn functionImports.map((func) => {\n\t\t\tconst parameters = Array.from(\n\t\t\t\tthis.metadataXml.getElementsByTagName(\"Parameter\")\n\t\t\t).map((paramNode) => ({\n\t\t\t\tname: paramNode.getAttribute(\"Name\"),\n\t\t\t\ttype: pa+
ramNode.getAttribute(\"Type\"),\n\t\t\t\tnullable: paramNode.getAttribute(\"Nullable\"),\n\t\t\t\tmaxLength: ODataHelper.getMaxLength(\n\t\t\t\t\tparamNode.getAttribute(\"MaxLength\")\n\t\t\t\t),\n\t\t\t}));\n\n\t\t\treturn {\n\t\t\t\tname: func.Name,\n\+
t\t\t\treturnType: func.ReturnType,\n\t\t\t\tentitySet: func.EntitySet,\n\t\t\t\tparameters: parameters,\n\t\t\t\tmethod: func.HttpMethod as MetadataFunctionMethod,\n\t\t\t};\n\t\t});\n\t}\n\tasync readEntity(options: {\n\t\tentityName: string;\n\t\tfilt+
ers: Filter[];\n\t\tsorting: Sorter[];\n\t\theaders: Record<string, string>;\n\t\ttop: number;\n\t\tskip: number;\n\t\texpand?: string[];\n\t}): Promise<object> {\n\t\tconst binding = this.model.bindList(\n\t\t\t\"/\" + options.entityName,\n\t\t\tundefin+
ed,\n\t\t\toptions.filters,\n\t\t\toptions.sorting,\n\t\t\t{\n\t\t\t\t...(options.expand && options.expand.length > 0 && { $expand: options.expand.join(',') })\n\t\t\t}\n\t\t);\n\n\t\t// TODO support top and skip\n\t\t\n\t\tconst contexts = await binding+
.requestContexts();\n\t\tconst result = contexts.map((context) => context.getObject() as object);\n\t\t\n\t\tawait SoundManager.FireSuccess();\n\t\t\n\t\treturn result;\n\t}\n\tgetModel(): ODataModel {\n\t\treturn this.model as unknown as ODataModel;\n\t+
}\n\tgetMetadataText(): string {\n\t\treturn this.metadataText;\n\t}\n\tgetMetadataXml(): XMLDocument {\n\t\treturn this.metadataXml;\n\t}\n\tasync initAsync() {\n\t\tthis.metadataText = await ODataHelper.getMetadataText(this.serviceUrl);\n\t\tthis.metad+
ataXml = ODataHelper.parseMetadataXml(this.metadataText);\n\t}\n\n\texecuteFunction(options: {\n\t\tfunctionName: string,\n\t\tparameters: Record<string, string | number | boolean>,\n\t\tmethod: 'GET' | 'POST'\n\t}): Promise<unknown> {\n\t\tthrow new Err+
or(\"Not implemented\");\n\t\t// TODO: Implement function execution with SoundManager\n\t\t// await SoundManager.FireSuccess();\n\t}\n\n\texecuteAction(options: {\n\t\tactionName: string,\n\t\tparameters: Record<string, string | number | boolean>,\n\t}):+
 Promise<unknown> {\n\t\tthrow new Error(\"Not implemented\");\n\t}\n}\n"],"mappings":"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","i+
gnoreList":[]}                                                                                                                                                                                                                                                 