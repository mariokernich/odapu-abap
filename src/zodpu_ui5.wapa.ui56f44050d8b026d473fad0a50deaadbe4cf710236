{"version":3,"file":"Main-dbg.controller.js","names":["BaseController","_interopRequireDefault","__BaseController","OData","__OData","APC","__APC","Main","extend","onTabContainerAddNewButtonPress","_onTabContainerAddNewButtonPress","handleAddNewButtonPre+
ss","onTabContainerItemClose","_onTabContainerItemClose","onInit","_onInit","BaseController.prototype.onInit.call","handleInit","_handleInit","tabContainer","getTabContainer","loadInfo","item","TabContainerItem","name","getOwnerComponent","getText","addi+
tionalText","modified","id","Date","getTime","toString","controller","component","fragmentId","fragment","Fragment","load","getView","addContent","VBox","items","renderType","fitContainer","height","addItem","setTitle","title","setName","setSelectedItem"+
,"_loadInfo","setBusy","info","requests","getInfo","setModel","JSONModel","UpdateAvailable","dialogManager","showUpdateAvailableDialog","_setSelectedItem","getSelectedItem","getId","_handleAddNewButtonPress","projectType","selectProjectType","_getTabCont+
ainer","byId"],"sources":["Main.controller.ts"],"sourcesContent":["import BaseController from \"./BaseController\";\nimport DialogManager from \"../util/DialogManager\";\nimport TabContainer from \"sap/m/TabContainer\";\nimport TabContainerItem from \"sa+
p/m/TabContainerItem\";\nimport Fragment from \"sap/ui/core/Fragment\";\nimport OData from \"./OData.controller\";\nimport VBox from \"sap/m/VBox\";\nimport View from \"sap/ui/core/mvc/View\";\nimport APC from \"./APC.controller\";\nimport JSONModel from+
 \"sap/ui/model/json/JSONModel\";\n\n/**\n * @namespace de.kernich.odpu.controller\n */\nexport default class Main extends BaseController {\n\tonTabContainerAddNewButtonPress() {\n\t\tvoid this.handleAddNewButtonPress();\n\t}\n\n\tonTabContainerItemClose+
() {}\n\n\tonInit() {\n\t\tsuper.onInit();\n\t\tvoid this.handleInit();\n\t}\n\n\tprivate async handleInit() {\n\t\tconst tabContainer = this.getTabContainer();\n\n\t\tawait this.loadInfo();\n\n\t\tconst item = new TabContainerItem({\n\t\t\tname: this.ge+
tOwnerComponent().getText(\"app.untitled\"),\n\t\t\tadditionalText: \"ODATA\",\n\t\t\tmodified: false,\n\t\t});\n\n\t\tconst id = \"__\" + new Date().getTime().toString();\n\n\t\tconst controller = new OData(id);\n\t\tcontroller.component = this.getOwner+
Component();\n\t\tcontroller.getOwnerComponent = () => this.getOwnerComponent();\n\t\tcontroller.fragmentId = id;\n\n\t\tconst fragment = await Fragment.load({\n\t\t\tname: \"de.kernich.odpu.view.fragments.ODATA.Main\",\n\t\t\tcontroller: controller,\n\t+
\t\tid: id,\n\t\t});\n\n\t\tcontroller.getView = () => fragment as unknown as View;\n\n\t\titem.addContent(\n\t\t\tnew VBox({\n\t\t\t\titems: fragment,\n\t\t\t\trenderType: \"Bare\",\n\t\t\t\tfitContainer: true,\n\t\t\t\theight: \"100%\",\n\t\t\t})\n\t\t+
);\n\n\t\ttabContainer.addItem(item);\n\n\t\tcontroller.onInit();\n\n\t\tcontroller.setTitle = (title: string) => {\n\t\t\titem.setName(title);\n\t\t};\n\n\t\tthis.setSelectedItem(item);\n\t}\n\n\tprivate async loadInfo() {\n\t\tthis.setBusy(true);\n\t\t+
try {\n\t\t\tconst info = await this.getOwnerComponent().requests.getInfo();\n\t\t\tthis.getOwnerComponent().setModel(new JSONModel(info), \"info\");\n\n\t\t\tif(info.UpdateAvailable) {\n\t\t\t\tvoid this.getOwnerComponent().dialogManager.showUpdateAvail+
ableDialog();\n\t\t\t}\n\t\t} finally {\n\t\t\tthis.setBusy(false);\n\t\t}\n\t}\n\n\tprivate setSelectedItem(item: TabContainerItem) {\n\t\twhile (this.getTabContainer().getSelectedItem() !== item.getId()) {\n\t\t\tthis.getTabContainer().setSelectedItem(+
item);\n\t\t}\n\t}\n\n\tprivate async handleAddNewButtonPress() {\n\t\tconst projectType = await this.getOwnerComponent().dialogManager.selectProjectType();\n\n\t\tconst tabContainer = this.getTabContainer();\n\n\t\tconst item = new TabContainerItem({\n\+
t\t\tname: this.getOwnerComponent().getText(\"app.untitled\"),\n\t\t\tadditionalText: projectType,\n\t\t\tmodified: false,\n\t\t});\n\n\t\tconst id = \"__\" + new Date().getTime().toString();\n\n\t\tif (projectType === \"ODATA\") {\n\t\t\tconst controlle+
r = new OData(id);\n\t\t\tcontroller.component = this.getOwnerComponent();\n\t\t\tcontroller.getOwnerComponent = () => this.getOwnerComponent();\n\t\t\tcontroller.fragmentId = id;\n\n\t\t\tconst fragment = await Fragment.load({\n\t\t\t\tname: \"de.kernic+
h.odpu.view.fragments.ODATA.Main\",\n\t\t\t\tcontroller: controller,\n\t\t\t\tid: id,\n\t\t\t});\n\n\t\t\tcontroller.getView = () => fragment as unknown as View;\n\n\t\t\titem.addContent(\n\t\t\t\tnew VBox({\n\t\t\t\t\titems: fragment,\n\t\t\t\t\trenderT+
ype: \"Bare\",\n\t\t\t\t\tfitContainer: true,\n\t\t\t\t\theight: \"100%\",\n\t\t\t\t})\n\t\t\t);\n\n\t\t\ttabContainer.addItem(item);\n\n\t\t\tcontroller.onInit();\n\n\t\t\tcontroller.setTitle = (title: string) => {\n\t\t\t\titem.setName(title);\n\t\t\t}+
;\n\n\t\t\ttabContainer.setSelectedItem(item);\n\t\t}\n\n\t\tif (projectType === \"APC\") {\n\t\t\tconst controller = new APC(id);\n\t\t\tcontroller.component = this.getOwnerComponent();\n\t\t\tcontroller.getOwnerComponent = () => this.getOwnerComponent(+
);\n\t\t\tcontroller.fragmentId = id;\n\n\t\t\tconst fragment = await Fragment.load({\n\t\t\t\tname: \"de.kernich.odpu.view.fragments.APC.Main\",\n\t\t\t\tcontroller: controller,\n\t\t\t\tid: id,\n\t\t\t});\n\n\t\t\ttabContainer.addItem(item);\n\n\t\t\tc+
ontroller.getView = () => fragment as unknown as View;\n\t\t\tcontroller.onInit();\n\n\t\t\titem.addContent(\n\t\t\t\tnew VBox({\n\t\t\t\t\titems: fragment,\n\t\t\t\t\trenderType: \"Bare\",\n\t\t\t\t\tfitContainer: true,\n\t\t\t\t\theight: \"100%\",\n\t\+
t\t\t})\n\t\t\t);\n\n\t\t\tcontroller.setTitle = (title: string) => {\n\t\t\t\titem.setName(title);\n\t\t\t};\n\n\t\t\tthis.setSelectedItem(item);\n\t\t}\n\t}\n\n\tprivate getTabContainer() {\n\t\treturn this.getView()?.byId(\"idTabContainer\") as TabCon+
tainer;\n\t}\n}\n"],"mappings":"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","ignoreList":[]}                           